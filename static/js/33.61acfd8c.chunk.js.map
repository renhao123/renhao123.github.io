{"version":3,"sources":["../static/js/33.61acfd8c.chunk.js","pages/SystemSetup/DabiaoJine/detail/index.js"],"names":["webpackJsonp","2249","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_antd__","__WEBPACK_IMPORTED_MODULE_2_react_router_dom__","__WEBPACK_IMPORTED_MODULE_3__utils__","__WEBPACK_IMPORTED_MODULE_4__axios__","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","FormItem","Form","Item","curYear","Date","getFullYear","yearLists","push","name","Detail","state","editData","isEdit","back","localStorage","removeItem","history","handleSave","form","validateFields","err","values","one","two","three","message","error","param","postAction","then","res","success","setTimeout","obj","handleChange","selected","setState","getLocal","dabiao","JSON","parse","this","schoolYear","getFieldDecorator","Fragment","title","className","extra","onClick","type","layout","style","marginBottom","span","height","lineHeight","initialValue","disabled","label","onelevelTarget","placeholder","twolevelTarget","threelevelTarget","onChange","width","map","item","Option","display","Number","Component","withRouter"],"mappings":"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","file":"static/js/33.61acfd8c.chunk.js","sourcesContent":["webpackJsonp([33],{\n\n/***/ 2249:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_antd__ = __webpack_require__(393);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_react_router_dom__ = __webpack_require__(133);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils__ = __webpack_require__(132);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__axios__ = __webpack_require__(1147);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var FormItem=__WEBPACK_IMPORTED_MODULE_1_antd__[\"k\" /* Form */].Item;var curYear=new Date().getFullYear();var yearLists=[];for(var i=0;i<6;i++){yearLists.push({name:curYear+i+\"学年\",value:curYear+i+\"\"});}var Detail=function(_Component){_inherits(Detail,_Component);function Detail(){var _ref;var _temp,_this,_ret;_classCallCheck(this,Detail);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=Detail.__proto__||Object.getPrototypeOf(Detail)).call.apply(_ref,[this].concat(args))),_this),_this.state={curYear:'',editData:{},isEdit:false},_this.back=function(){localStorage.removeItem('dabiao');_this.props.history.push('/mainframe/systemsetup/dabiao');},_this.handleSave=function(){_this.props.form.validateFields(function(err,values){if(!err){if(!values.one||!values.two||!values.three){__WEBPACK_IMPORTED_MODULE_1_antd__[\"J\" /* message */].error('金额不能为空');return;}else{var param={\"schoolYear\":_this.state.curYear,\"onelevelTarget\":values.one,\"twolevelTarget\":values.two,\"threelevelTarget\":values.three};if(_this.state.isEdit){//判断是否是编辑\nObject(__WEBPACK_IMPORTED_MODULE_4__axios__[\"b\" /* postAction */])('/bigdata/subsidizeTarget/updateSubsidizeTarget',param).then(function(res){if(res.success){__WEBPACK_IMPORTED_MODULE_1_antd__[\"J\" /* message */].success('保存成功');setTimeout(function(){localStorage.removeItem('dabiao');_this.props.history.push('/mainframe/systemsetup/dabiao');},1000);}else{__WEBPACK_IMPORTED_MODULE_1_antd__[\"J\" /* message */].error(res.obj);}});}else{Object(__WEBPACK_IMPORTED_MODULE_4__axios__[\"b\" /* postAction */])('/bigdata/subsidizeTarget/insertSubsidizeTarget',param).then(function(res){if(res.success){__WEBPACK_IMPORTED_MODULE_1_antd__[\"J\" /* message */].success('保存成功');setTimeout(function(){localStorage.removeItem('dabiao');_this.props.history.push('/mainframe/systemsetup/dabiao');},1000);}else{__WEBPACK_IMPORTED_MODULE_1_antd__[\"J\" /* message */].error(res.obj);}});}}}});},_this.handleChange=function(selected){_this.setState({curYear:selected});},_temp),_possibleConstructorReturn(_this,_ret);}// componentWillUnmount(){\n//     removeLocal('dabiao')\n// }\n_createClass(Detail,[{key:'componentDidMount',value:function componentDidMount(){if(!Object(__WEBPACK_IMPORTED_MODULE_3__utils__[\"e\" /* getLocal */])('dabiao')){this.setState({curYear:curYear,editData:{},isEdit:false});}else{var dabiao=JSON.parse(Object(__WEBPACK_IMPORTED_MODULE_3__utils__[\"e\" /* getLocal */])('dabiao'));this.setState({curYear:dabiao.schoolYear,editData:dabiao,isEdit:true});}}},{key:'render',value:function render(){var getFieldDecorator=this.props.form.getFieldDecorator;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Fragment,null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"e\" /* Card */],{title:__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'common-title'},'\\u8D44\\u52A9\\u8FBE\\u6807\\u91D1\\u989D\\u914D\\u7F6E'),extra:__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"d\" /* Button */],{onClick:this.back,type:'primary'},'\\u8FD4\\u56DE')},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"k\" /* Form */],{layout:'inline'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"x\" /* Row */],{style:{marginBottom:20}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"h\" /* Col */],{span:4},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{style:{height:39,lineHeight:'39px'}},'\\u540D\\u79F0')),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"h\" /* Col */],{span:20},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,null,getFieldDecorator('name',{initialValue:this.state.curYear+'\\u5B66\\u5E74\\u8FBE\\u6807\\u989D'})(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"m\" /* Input */],{disabled:true}))))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"x\" /* Row */],{style:{marginBottom:20}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"h\" /* Col */],{span:4},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{style:{height:39,lineHeight:'39px'}},'\\u7EA7\\u522B\\u8FBE\\u6807\\u91D1\\u989D\\uFF08\\u5355\\u4F4D\\uFF1A\\u5143\\uFF09')),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"h\" /* Col */],{span:20},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,{label:'\\u4E00\\u7EA7'},getFieldDecorator('one',{initialValue:this.state.editData.onelevelTarget})(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"m\" /* Input */],{placeholder:'\\u8BF7\\u8F93\\u5165\\u91D1\\u989D'}))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,{label:'\\u4E8C\\u7EA7'},getFieldDecorator('two',{initialValue:this.state.editData.twolevelTarget})(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"m\" /* Input */],{placeholder:'\\u8BF7\\u8F93\\u5165\\u91D1\\u989D'}))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,{label:'\\u4E09\\u7EA7'},getFieldDecorator('three',{initialValue:this.state.editData.threelevelTarget})(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"m\" /* Input */],{placeholder:'\\u8BF7\\u8F93\\u5165\\u91D1\\u989D'}))))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"x\" /* Row */],{style:{marginBottom:20}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"h\" /* Col */],{span:4},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{style:{height:39,lineHeight:'39px'}},'\\u5B66\\u5E74')),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"h\" /* Col */],{span:20},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,null,getFieldDecorator('year',{initialValue:''+this.state.curYear})(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"y\" /* Select */],{onChange:this.handleChange,style:{width:200}},yearLists.map(function(item){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"y\" /* Select */].Option,{key:item.value,value:item.value},item.name);})))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',{style:{height:39,lineHeight:'39px',display:'inline-block'}},'\\u65F6\\u95F4\\u6BB5\\uFF1A',this.state.curYear,'-09-01~',Number(this.state.curYear)+1,'-08-31'))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"x\" /* Row */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"h\" /* Col */],{span:4}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"h\" /* Col */],{span:20},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"d\" /* Button */],{onClick:this.handleSave,type:'primary'},'\\u4FDD\\u5B58'))))));}}]);return Detail;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);Detail=__WEBPACK_IMPORTED_MODULE_1_antd__[\"k\" /* Form */].create()(Detail);/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_2_react_router_dom__[\"withRouter\"])(Detail));\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/33.61acfd8c.chunk.js","import React, { Component } from 'react';\r\nimport {Card,Button,Form,Row,Col,Input,Select,message} from 'antd'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {getLocal} from '../../../../utils'\r\nimport {postAction} from '../../../../axios'\r\nconst FormItem=Form.Item\r\nconst curYear = new Date().getFullYear();\r\nlet yearLists = [];\r\nfor (let i=0; i<6; i++) {\r\n\tyearLists.push({\r\n\t\tname: curYear + i + \"学年\",\r\n\t\tvalue: curYear + i + \"\"\r\n\t})\r\n}\r\nclass Detail extends Component {\r\n    state = {         \r\n        curYear:'',\r\n        editData:{},\r\n        isEdit:false\r\n    }\r\n    back=()=>{\r\n        localStorage.removeItem('dabiao')\r\n        this.props.history.push('/mainframe/systemsetup/dabiao')\r\n    }\r\n    handleSave=()=>{\r\n        this.props.form.validateFields((err, values) => {\r\n            if (!err) {\r\n                if(!values.one || !values.two || !values.three){\r\n                    message.error('金额不能为空')\r\n                    return\r\n                }else{\r\n                    \r\n                    let param={\r\n                        \"schoolYear\":this.state.curYear,\r\n                        \"onelevelTarget\":values.one,\r\n                        \"twolevelTarget\":values.two,\r\n                        \"threelevelTarget\":values.three\r\n                    }\r\n                    if(this.state.isEdit){//判断是否是编辑\r\n                        postAction(\r\n                            '/bigdata/subsidizeTarget/updateSubsidizeTarget',\r\n                            param\r\n                        ).then(res=>{\r\n                            if(res.success){                                \r\n                                message.success('保存成功')\r\n                                setTimeout(()=>{\r\n                                    localStorage.removeItem('dabiao')\r\n                                    this.props.history.push('/mainframe/systemsetup/dabiao')\r\n                                },1000)\r\n                            }else{                                \r\n                                message.error(res.obj)\r\n                            }\r\n                        })\r\n                    }else{\r\n                        postAction(\r\n                            '/bigdata/subsidizeTarget/insertSubsidizeTarget',\r\n                            param\r\n                        ).then(res=>{\r\n                            if(res.success){\r\n                                message.success('保存成功')\r\n                                setTimeout(()=>{\r\n                                    localStorage.removeItem('dabiao')\r\n                                    this.props.history.push('/mainframe/systemsetup/dabiao')\r\n                                },1000)\r\n                            }else{                                \r\n                                message.error(res.obj)\r\n                            }\r\n                        })\r\n                    }\r\n                    \r\n                }\r\n            }\r\n        });\r\n    }\r\n    // componentWillUnmount(){\r\n    //     removeLocal('dabiao')\r\n    // }\r\n    handleChange=(selected)=>{\r\n        this.setState({\r\n            curYear:selected\r\n        })\r\n    }\r\n    componentDidMount() {        \r\n        if(!getLocal('dabiao')){\r\n            this.setState({\r\n                curYear:curYear,\r\n                editData:{},\r\n                isEdit:false\r\n            })\r\n        }else{\r\n            const dabiao=JSON.parse(getLocal('dabiao'))\r\n            this.setState({\r\n                curYear:dabiao.schoolYear,\r\n                editData:dabiao,\r\n                isEdit:true\r\n            })\r\n        }\r\n    }\r\n    render() {\r\n        const { getFieldDecorator } = this.props.form;        \r\n        return (\r\n            <React.Fragment>\r\n                <Card title={<div className='common-title'>资助达标金额配置</div>} extra={<Button onClick={this.back} type='primary'>返回</Button>}>\r\n                    <Form layout='inline'>\r\n                        <Row style={{marginBottom:20}}>\r\n                            <Col span={4}>\r\n                                <div style={{height:39,lineHeight:'39px'}}>\r\n                                    名称\r\n                                </div>\r\n                                \r\n                            </Col>\r\n                            <Col span={20}>\r\n                                <FormItem>\r\n                                    {\r\n                                        getFieldDecorator('name',{\r\n                                            initialValue:`${this.state.curYear}学年达标额`\r\n                                        })(\r\n                                            <Input disabled></Input>\r\n                                        )\r\n                                    }\r\n                                </FormItem>\r\n                            </Col>\r\n                        </Row>\r\n                        <Row style={{marginBottom:20}}>\r\n                            <Col span={4}>\r\n                            <div style={{height:39,lineHeight:'39px'}}>\r\n                            级别达标金额（单位：元）\r\n                                </div>\r\n                                \r\n                            </Col>\r\n                            <Col span={20}>\r\n                                <FormItem label='一级'>\r\n                                    {\r\n                                        getFieldDecorator('one',{\r\n                                            initialValue:this.state.editData.onelevelTarget\r\n                                        })(\r\n                                            <Input placeholder='请输入金额'></Input>\r\n                                        )\r\n                                    }\r\n                                </FormItem>\r\n                                <FormItem label='二级'>\r\n                                    {\r\n                                        getFieldDecorator('two',{\r\n                                            initialValue:this.state.editData.twolevelTarget\r\n                                        })(\r\n                                            <Input placeholder='请输入金额'></Input>\r\n                                        )\r\n                                    }\r\n                                </FormItem>\r\n                                <FormItem label='三级'>\r\n                                    {\r\n                                        getFieldDecorator('three',{\r\n                                            initialValue:this.state.editData.threelevelTarget\r\n                                        })(\r\n                                            <Input placeholder='请输入金额'></Input>\r\n                                        )\r\n                                    }\r\n                                </FormItem>\r\n                            </Col>\r\n                        </Row>\r\n                        <Row style={{marginBottom:20}}>\r\n                            <Col span={4}>\r\n                            <div style={{height:39,lineHeight:'39px'}}>\r\n                            学年\r\n                                </div>\r\n                            </Col>\r\n                            <Col span={20}>\r\n                                <FormItem>\r\n                                    {\r\n                                        getFieldDecorator('year',{\r\n                                            initialValue:`${this.state.curYear}`\r\n                                        })(\r\n                                            <Select onChange={this.handleChange} style={{width:200}}>\r\n                                                {\r\n                                                    yearLists.map(item=><Select.Option key={item.value} value={item.value}>{item.name}</Select.Option>)\r\n                                                }\r\n                                            </Select>\r\n                                        )\r\n                                    }\r\n                                </FormItem>\r\n                                <span  style={{height:39,lineHeight:'39px',display:'inline-block'}}>\r\n                                    时间段：{this.state.curYear}-09-01~{Number(this.state.curYear)+1}-08-31\r\n                                </span>\r\n                                \r\n                            </Col>\r\n                        </Row>\r\n                        <Row>\r\n                            <Col span={4}>\r\n                            </Col>\r\n                            <Col span={20}>\r\n                                <Button onClick={this.handleSave} type='primary'>保存</Button>\r\n                            </Col>\r\n                        </Row>\r\n                    </Form>\r\n                </Card>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\nDetail=Form.create()(Detail)\r\nexport default withRouter(Detail);\n\n\n// WEBPACK FOOTER //\n// ./src/pages/SystemSetup/DabiaoJine/detail/index.js"],"sourceRoot":""}