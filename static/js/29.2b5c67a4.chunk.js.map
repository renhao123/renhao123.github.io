{"version":3,"sources":["../static/js/29.2b5c67a4.chunk.js","pages/SystemSetup/EarlyWarningSetting/WhiteListConfig/Personal/AddOrEditPage.js","pages/SystemSetup/EarlyWarningSetting/WhiteListConfig/Personal/ChooseStudentModel.js"],"names":["webpackJsonp","2243","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_react_router_dom__","__WEBPACK_IMPORTED_MODULE_2_antd__","__WEBPACK_IMPORTED_MODULE_3__ChooseStudentModel__","__WEBPACK_IMPORTED_MODULE_4_moment__","__WEBPACK_IMPORTED_MODULE_4_moment___default","__WEBPACK_IMPORTED_MODULE_5__utils__","__WEBPACK_IMPORTED_MODULE_6__axios__","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","FormItem","Form","Item","RangePicker","DatePicker","formItemLayout","labelCol","span","wrapperCol","style","paddingLeft","warnModules","label","disabledDate","current","moment","endOf","dateFormat","studentStyle","width","height","borderRadius","border","cursor","marginTop","lineHeight","textAlign","AddOrEditPage","state","visible","selectedStudent","undefined","editId","editInfo","chooseStudent","setState","form","setFieldsValue","studentNo","saveAction","validateFields","err","values","remark","warnModule","rangePicker","alarmMiss","indexOf","alarmNetwork","alarmFail","alarmConsume","alarmBack","alarmCourse","data","startDate","format","endDate","id","postAction","then","res","success","message","history","push","warn","obj","params","getHashParam","filter","item","assign","getFieldDecorator","this","Fragment","title","className","paddingTop","rules","required","initialValue","type","align","justify","onClick","name","studentName","collegeName","Group","map","TextArea","resize","maxLength","size","marginRight","onCancel","onOk","Component","AddOrEditPageForm","withRouter","2244","__WEBPACK_IMPORTED_MODULE_1_antd__","__WEBPACK_IMPORTED_MODULE_2__common_components_MainModal__","__WEBPACK_IMPORTED_MODULE_3__axios__","columns","dataIndex","ChooseStudentModel","pageNum","pageSize","total","studentLists","selectedRowKeys","selectedRows","getData","pageInfo","list","changePage","pagination","rowClick","record","onSelectChange","dataSource","forEach","index","rowSelection","columnWidth","onChange","centered","marginBottom","placeholder","e","icon","bordered","showQuickJumper","showTotal","onRow"],"mappings":"AAAAA,cAAc,KAERC,KACA,SAAUC,EAAQC,EAAqBC,GAE7C,YAW8f,SAASC,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAAuC,QAASC,GAA2BC,EAAKC,GAAM,IAAID,EAAM,KAAM,IAAIE,gBAAe,4DAA8D,QAAOD,GAAqB,iBAAPA,IAA+B,mBAAPA,GAAwBD,EAALC,EAAW,QAASE,GAAUC,EAASC,GAAY,GAAuB,mBAAbA,IAAsC,OAAbA,EAAmB,KAAM,IAAIP,WAAU,iEAAkEO,GAAaD,GAASE,UAAUC,OAAOC,OAAOH,GAAYA,EAAWC,WAAWG,aAAaC,MAAMN,EAASO,YAAW,EAAMC,UAAS,EAAKC,cAAa,KAAWR,IAAWE,OAAOO,eAAeP,OAAOO,eAAeV,EAASC,GAAYD,EAASW,UAAUV,GAVhyCE,OAAOS,eAAevB,EAAqB,cAAgBiB,OAAO,GAC7C,IAAIO,GAAsCvB,EAAoB,GAC1DwB,EAA8CxB,EAAoByB,EAAEF,GACpEG,EAAiD1B,EAAoB,KACrE2B,EAAqC3B,EAAoB,KACzD4B,EAAoD5B,EAAoB,MACxE6B,EAAuC7B,EAAoB,IAC3D8B,EAA+C9B,EAAoByB,EAAEI,GACrEE,EAAuC/B,EAAoB,KAC3DgC,EAAuChC,EAAoB,MAChFiC,EAAa,WAAW,QAASC,GAAiBC,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAWtB,WAAWsB,EAAWtB,aAAY,EAAMsB,EAAWpB,cAAa,EAAQ,SAAUoB,KAAWA,EAAWrB,UAAS,GAAKL,OAAOS,eAAea,EAAOI,EAAWC,IAAID,IAAc,MAAO,UAASpC,EAAYsC,EAAWC,GAAuI,MAAvHD,IAAWP,EAAiB/B,EAAYS,UAAU6B,GAAeC,GAAYR,EAAiB/B,EAAYuC,GAAoBvC,MCRtewC,EAAWC,IAAKC,KAEhBC,EAAcC,IAAWD,YAEzBE,GACFC,UAAYC,KAAM,IAClBC,YAAcD,KAAM,GAAIE,OAAOC,YAAY,UAGzCC,IACAC,MAAO,2BAAQvC,MAAO,cAItBuC,MAAO,2BAAQvC,MAAO,cACtBuC,MAAO,2BAAQvC,MAAO,gBAEtBwC,EAAe,SAACC,GAClB,MAAOA,IAAWA,EAAUC,MAASC,MAAM,QAGzCC,EAAa,aAEbC,GACFC,MAAM,IAAIC,OAAO,GAAGC,aAAa,EACjCC,OAAO,qBAAqBC,OAAO,UACnCC,WAAW,GAAGC,WAAW,OAAOC,UAAU,UAExCC,E,iNACFC,OACIC,SAAS,EACTC,oBAAgBC,GAChBC,WAAOD,GACPE,aAASF,I,EAkCbG,cAAgB,SAACJ,GACb,EAAKK,UAAUL,kBAAgBD,SAAQ,IACvC,EAAKpC,MAAM2C,KAAKC,gBAAgBC,UAAWR,EAAgBQ,a,EAE/DC,WAAa,WACT,EAAK9C,MAAM2C,KAAKI,eACZ,SAACC,EAAIC,GACD,IAAKD,EAAK,CAAC,GACCH,GAA+CI,EAA/CJ,UAAWK,EAAoCD,EAApCC,OAAQC,EAA4BF,EAA5BE,WAAYC,EAAgBH,EAAhBG,YACnCC,EAAYF,EAAWG,QAAQ,cAAc,EAAE,EAAE,EACjDC,EAAeJ,EAAWG,QAAQ,iBAAiB,EAAE,EAAE,EACvDE,EAAYL,EAAWG,QAAQ,cAAc,EAAE,EAAE,EACjDG,EAAeN,EAAWG,QAAQ,iBAAiB,EAAE,EAAE,EACvDI,EAAYP,EAAWG,QAAQ,cAAc,EAAE,EAAE,EACjDK,EAAcR,EAAWG,QAAQ,gBAAgB,EAAE,EAAE,EACrDM,GACAf,YACAQ,YACAE,eACAC,YACAC,eACAC,YACAC,cACAT,SACAW,UAAUT,EAAY,GAAGU,OAAOtC,GAChCuC,QAAQX,EAAY,GAAGU,OAAOtC,GAE/B,GAAKW,MAAMK,UACVoB,EAAKI,GAAK,EAAK7B,MAAMK,SAASwB,GAC9BC,YAAW,iCAAkCL,GAAMM,KAC/C,SAACC,GACOA,EAAIC,QACJC,IAAQD,QAAQ,iCAAQ,EAAE,WACtB,EAAKpE,MAAMsE,QAAQC,KAAK,kDAG5BF,IAAQG,KAAKL,EAAIM,QAK7BR,YAAW,+BAAgCL,GAAMM,KAC7C,SAACC,GACOA,EAAIC,QACJC,IAAQD,QAAQ,iCAAQ,EAAE,WACtB,EAAKpE,MAAMsE,QAAQC,KAAK,kDAG5BF,IAAQG,KAAKL,EAAIM,W,yEAhF5B,GAAD,QACZC,EAASC,aACb,IAAGD,EAAOV,GAAG,CACT,GAAIJ,IAAQI,GAAGU,EAAOV,GACtBC,aAAW,mCAAoCL,GAAMM,KACjD,SAACC,GACOA,EAAIC,QACJ,EAAK1B,UAAUH,OAAOmC,EAAOV,IAAI,WAE7B,GAAIJ,GAAQO,EAAIM,IACZtB,GACiB,IAAjBS,EAAKP,UAAc,YAAY,KACX,IAApBO,EAAKL,aAAiB,eAAe,KACpB,IAAjBK,EAAKJ,UAAc,YAAY,KACX,IAApBI,EAAKH,aAAiB,eAAe,KACpB,IAAjBG,EAAKF,UAAc,YAAY,KACZ,IAAnBE,EAAKD,YAAgB,cAAc,MACrCiB,OAAO,SAAAC,GAAA,MAAa,QAAPA,IAEXrC,EAAW/D,OAAOqG,WAAY3B,cAAaS,MAC/C,GAAKlB,UACDF,WACAH,gBAAgBG,MAIxB6B,IAAQG,KAAKL,EAAIM,W,8BA+D5B,GAAD,QACIM,EAAsBC,KAAKhF,MAAM2C,KAAjCoC,kBACJvC,EAAWwC,KAAK7C,MAAMK,SACtBH,EAAkB2C,KAAK7C,MAAME,eACjC,OACI,mBAAC,IAAM4C,SAAP,KACI,kBAAC,KAAKC,MAAO,yBAAKC,UAAU,gBAAgBH,KAAK7C,MAAMI,OAAO,yDAAY,2DACtE,kBAAChC,EAAD,iBAAcK,GAAgBI,OAAQoE,WAAW,IAAKjE,MAAM,6BACvD4D,EAAkB,aACfM,QACIC,UAAU,EACVjB,QAAS,yCAEbkB,aAAc/C,GAAUA,EAASK,YAEjC,kBAAC,KAAI2C,KAAM,OAAQC,MAAO,SAAUC,QAAS,SACzC1E,MAAOS,EACPkE,QAAS,iBAAI,GAAKjD,UAAUN,SAAQ,MACnCC,EACG,6BACKA,EAAgBuD,MAAQvD,EAAgBwD,YAD7C,IAC0D,6BACrDxD,EAAgBQ,UAFrB,SAEiCR,EAAgByD,aAGjD,6BAAK,kBAAC,KAAKN,KAAK,SAAhB,gCAMhB,kBAACjF,EAAD,iBAAcK,GAAgBO,MAAM,+CAC/B4D,EAAkB,eACfM,QACIG,KAAM,QACNF,UAAU,EACVjB,QAAS,2DAEbkB,aAAc/C,IAAWlB,IAAOkB,EAASqB,UAAWrC,GAAYF,IAAOkB,EAASuB,QAASvC,MAEzF,kBAACd,GAAYM,OAAQU,MAAM,KAC3BN,aAAcA,MAGtB,kBAACb,EAAD,iBAAcK,GAAgBO,MAAM,6BAC/B4D,EAAkB,cACfM,QACIG,KAAM,QACNF,UAAU,EACVjB,QAAS,qDAEbkB,aAAc/C,GAAUA,EAASW,aAEjC,kBAAC,IAAS4C,MAAV,KACI,kBAAC,IAAD,KACC7E,EAAY8E,IAAI,SAAAnB,GAAA,MACb,mBAAC,KAAI/D,KAAM,EAAGE,OAAQoE,WAAW,IAAKhF,IAAKyE,EAAKjG,OAChD,kBAAC,KAASA,MAAOiG,EAAKjG,OAAQiG,EAAK1D,cAiBnD,kBAACZ,EAAD,iBAAcK,GAAgBO,MAAM,iBAC/B4D,EAAkB,UACfQ,aAAc/C,GAAUA,EAASU,SAEjC,kBAAC,IAAM+C,UAASjF,OAAQU,MAAM,IAAIC,OAAO,IAAIuE,OAAO,QAASC,UAAU,SAG/E,kBAAC,IAAD,KACI,kBAAC,IAAQvF,EAAeC,UACxB,kBAAC,IAAQD,EAAeG,WACpB,kBAAC,KAAOqF,KAAK,QAAQZ,KAAK,UAAUxE,OAAQqF,YAAY,IAAKV,QAASX,KAAKlC,YAAa,iBACxF,kBAAC,KAAOsD,KAAK,QAAQT,QAAS,WAC1B,EAAK3F,MAAMsE,QAAQC,KAAK,kDACxB,oBAIfS,KAAK7C,MAAMC,QACR,kBAAC,KAAmB8C,MAAO,2BACvB9C,QAAS4C,KAAK7C,MAAMC,QACpBC,gBAAiB2C,KAAK7C,MAAME,gBAC5BiE,SAAU,iBAAI,GAAK5D,UAAUN,SAAQ,KACrCmE,KAAMvB,KAAKvC,gBACjB,U,GAhMU+D,aAqMtBC,EAAoBjG,IAAK9B,SAASwD,EACzBwE,gCAAWD,IDjNpBE,KACA,SAAUjJ,EAAQC,EAAqBC,GAE7C,YAM8f,SAASC,GAAgBC,EAASC,GAAa,KAAKD,YAAoBC,IAAc,KAAM,IAAIC,WAAU,qCAAuC,QAASC,GAA2BC,EAAKC,GAAM,IAAID,EAAM,KAAM,IAAIE,gBAAe,4DAA8D,QAAOD,GAAqB,iBAAPA,IAA+B,mBAAPA,GAAwBD,EAALC,EAAW,QAASE,GAAUC,EAASC,GAAY,GAAuB,mBAAbA,IAAsC,OAAbA,EAAmB,KAAM,IAAIP,WAAU,iEAAkEO,GAAaD,GAASE,UAAUC,OAAOC,OAAOH,GAAYA,EAAWC,WAAWG,aAAaC,MAAMN,EAASO,YAAW,EAAMC,UAAS,EAAKC,cAAa,KAAWR,IAAWE,OAAOO,eAAeP,OAAOO,eAAeV,EAASC,GAAYD,EAASW,UAAUV,GAL3wC,GAAIY,GAAsCvB,EAAoB,GAC1DwB,EAA8CxB,EAAoByB,EAAEF,GACpEyH,EAAqChJ,EAAoB,KACzDiJ,EAA6DjJ,EAAoB,MACjFkJ,EAAuClJ,EAAoB,MAChFiC,EAAa,WAAW,QAASC,GAAiBC,EAAOC,GAAO,IAAI,GAAIC,GAAE,EAAEA,EAAED,EAAME,OAAOD,IAAI,CAAC,GAAIE,GAAWH,EAAMC,EAAGE,GAAWtB,WAAWsB,EAAWtB,aAAY,EAAMsB,EAAWpB,cAAa,EAAQ,SAAUoB,KAAWA,EAAWrB,UAAS,GAAKL,OAAOS,eAAea,EAAOI,EAAWC,IAAID,IAAc,MAAO,UAASpC,EAAYsC,EAAWC,GAAuI,MAAvHD,IAAWP,EAAiB/B,EAAYS,UAAU6B,GAAeC,GAAYR,EAAiB/B,EAAYuC,GAAoBvC,ME7BxegJ,IACA7B,MAAO,eACP8B,UAAW,QACXtF,MAAO,GACP+D,MAAO,WAEPP,MAAO,eACP8B,UAAW,YACXtF,MAAO,IACP+D,MAAO,WAEPP,MAAO,eACP8B,UAAW,cACXtF,MAAO,IACP+D,MAAO,WAEPP,MAAO,eACP8B,UAAW,cACXvB,MAAO,WAGLwB,E,iNACF9E,OACI+E,QAAS,EACTC,SAAU,GACVC,MAAO,EACPC,gBACAxE,cAAWP,GACXsD,SAAMtD,GACNgF,mBACAC,iB,EAWJC,QAAU,WAAO,GAAD,GAC4B,EAAKrF,MAAxCU,EADO,EACPA,UAAU+C,EADH,EACGA,KAAKsB,EADR,EACQA,QAAQC,EADhB,EACgBA,SACxBvD,GACAf,YACA+C,OACA6B,UACIP,UACAC,YAGRlD,aAAW,uCAAwCL,GAAMM,KACrD,SAACC,GACOA,EAAIC,QACJ,EAAK1B,UACD0E,MAAOjD,EAAIM,IAAI2C,MACfC,aAAclD,EAAIM,IAAIiD,WAG1BrD,IAAQG,KAAKL,EAAIM,Q,EAKjC8B,KAAO,WACA,EAAKpE,MAAMoF,aAAa,GACvB,EAAKvH,MAAMuG,KAAK,EAAKpE,MAAMoF,aAAa,IAExClD,IAAQG,KAAK,yC,EAGrBmD,WAAa,SAACC,GACV,EAAKlF,UAAUwE,QAAQU,EAAWvG,QAAQ8F,SAASS,EAAWT,UAAU,WACrE,EAAKK,a,EAGZK,SAAW,SAACC,GACR,GAAIlE,IAAQf,UAAWiF,EAAOjF,UAC9BoB,aAAW,oCAAqCL,GAAMM,KAClD,SAACC,GACOA,EAAIC,QACJ,EAAK1B,UACD4E,iBAAkBQ,EAAO1H,KACzBmH,cAAeO,KAGnBzD,IAAQG,KAAKL,EAAIM,Q,EAKjCsD,eAAiB,SAACT,EAAiBC,GAC/B,EAAK7E,UAAW4E,kBAAiBC,kB,yEA3D9BvC,KAAKhF,MAAMqC,iBACV2C,KAAKtC,UACD4E,iBAAiBtC,KAAKhF,MAAMqC,gBAAgBQ,WAC5C0E,cAAcvC,KAAKhF,MAAMqC,mBAGjC2C,KAAKwC,a,8BAuDC,GAAD,QACCQ,EAAahD,KAAK7C,MAAMkF,gBAC9BW,GAAWC,QAAQ,SAACpD,EAAKqD,GACrBF,EAAWE,GAAO9H,IAAMyE,EAAKhC,UAC7BmF,EAAWE,GAAOA,MAAQA,EAAQ,GAGtC,IAAMZ,GAAkBtC,KAAK7C,MAAMmF,gBAC7Ba,GACFb,kBACA9B,KAAM,QACN4C,YAAa,OACbC,SAAUrD,KAAK+C,eAGnB,OACI,mBAAC,KACG7C,MAAOF,KAAKhF,MAAMkF,MAClB9C,QAAS4C,KAAKhF,MAAMoC,QACpBkG,UAAA,EACAhC,SAAUtB,KAAKhF,MAAMsG,SACrBC,KAAMvB,KAAKuB,KACX7E,MAAO,MAEP,kBAAC,KAAIV,OAAQuH,aAAa,KACtB,kBAAC,KAAIzH,KAAM,GAAX,qBACO,kBAAC,KAAME,OAAQU,MAAM,KAAM8G,YAAa,iCAAS5J,MAAOoG,KAAK7C,MAAMU,UAClEwF,SAAU,SAACI,GAAD,MAAK,GAAK/F,UAAUG,UAAU4F,EAAE1I,OAAOnB,YAEzD,kBAAC,KAAIkC,KAAM,GAAX,qBACO,kBAAC,KAAME,OAAQU,MAAM,KAAM8G,YAAa,6CAAW5J,MAAOoG,KAAK7C,MAAMyD,KACpEyC,SAAU,SAACI,GAAD,MAAK,GAAK/F,UAAUkD,KAAK6C,EAAE1I,OAAOnB,YAEpD,kBAAC,KAAIkC,KAAM,IACP,kBAAC,KAAO4H,KAAK,SAASlD,KAAK,UAAUG,QAASX,KAAKwC,SAAnD,mBAGR,kBAAC,KAAMQ,WAAYA,EACfW,UAAA,EACAR,aAAcA,EACdpB,QAASA,EACTa,YACIxB,KAAM,QACN/E,QAAQ2D,KAAK7C,MAAM+E,QACnBE,MAAMpC,KAAK7C,MAAMiF,MACjBwB,iBAAiB,EACjBC,UAAW,SAAAzB,GAAA,gBAAcA,EAAd,wBAEfhB,KAAK,SACLiC,SAAUrD,KAAK2C,WACfmB,MAAO,SAAChB,EAAQI,GACZ,OACIvC,QAAS,iBAAM,GAAKkC,SAASC,EAAQI,a,GA7HhC1B,YAoIlBS","file":"static/js/29.2b5c67a4.chunk.js","sourcesContent":["webpackJsonp([29],{\n\n/***/ 2243:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router_dom__ = __webpack_require__(133);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_antd__ = __webpack_require__(393);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ChooseStudentModel__ = __webpack_require__(2244);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment__ = __webpack_require__(45);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_moment___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_moment__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__utils__ = __webpack_require__(132);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__axios__ = __webpack_require__(1147);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var FormItem=__WEBPACK_IMPORTED_MODULE_2_antd__[\"k\" /* Form */].Item;// const RadioGroup = Radio.Group;\nvar RangePicker=__WEBPACK_IMPORTED_MODULE_2_antd__[\"i\" /* DatePicker */].RangePicker;var formItemLayout={labelCol:{span:10},wrapperCol:{span:14,style:{paddingLeft:'10px'}}};var warnModules=[{label:'失联预警',value:'alarmMiss'},// { label: '网络预警', value: 'alarmNetwork' },\n// { label: '挂科预警', value: 'alarmFail' },\n// { label: '消费预警', value: 'alarmConsume' },\n{label:'夜归预警',value:'alarmBack'},{label:'逃课预警',value:'alarmCourse'}];var disabledDate=function disabledDate(current){return current&&current<__WEBPACK_IMPORTED_MODULE_4_moment___default()().endOf('day');};var dateFormat='YYYY-MM-DD';var studentStyle={width:258,height:58,borderRadius:4,border:'1px dashed #d9d9d9',cursor:'pointer',marginTop:-10,lineHeight:'20px',textAlign:'center'};var AddOrEditPage=function(_Component){_inherits(AddOrEditPage,_Component);function AddOrEditPage(){var _ref;var _temp,_this,_ret;_classCallCheck(this,AddOrEditPage);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=AddOrEditPage.__proto__||Object.getPrototypeOf(AddOrEditPage)).call.apply(_ref,[this].concat(args))),_this),_this.state={visible:false,selectedStudent:undefined,editId:undefined,editInfo:undefined},_this.chooseStudent=function(selectedStudent){_this.setState({selectedStudent:selectedStudent,visible:false});_this.props.form.setFieldsValue({studentNo:selectedStudent.studentNo});},_this.saveAction=function(){_this.props.form.validateFields(function(err,values){if(!err){var studentNo=values.studentNo,remark=values.remark,warnModule=values.warnModule,rangePicker=values.rangePicker;var alarmMiss=warnModule.indexOf('alarmMiss')>=0?1:0;var alarmNetwork=warnModule.indexOf('alarmNetwork')>=0?1:0;var alarmFail=warnModule.indexOf('alarmFail')>=0?1:0;var alarmConsume=warnModule.indexOf('alarmConsume')>=0?1:0;var alarmBack=warnModule.indexOf('alarmBack')>=0?1:0;var alarmCourse=warnModule.indexOf('alarmCourse')>=0?1:0;var data={studentNo:studentNo,alarmMiss:alarmMiss,alarmNetwork:alarmNetwork,alarmFail:alarmFail,alarmConsume:alarmConsume,alarmBack:alarmBack,alarmCourse:alarmCourse,remark:remark,startDate:rangePicker[0].format(dateFormat),endDate:rangePicker[1].format(dateFormat)};if(_this.state.editInfo){data.id=_this.state.editInfo.id;Object(__WEBPACK_IMPORTED_MODULE_6__axios__[\"b\" /* postAction */])(\"/bigdata/alarmWhitelist/update\",data).then(function(res){if(res.success){__WEBPACK_IMPORTED_MODULE_2_antd__[\"J\" /* message */].success('修改成功！',1,function(){_this.props.history.push('/mainframe/systemsetup/earlywarningwhitelist');});}else{__WEBPACK_IMPORTED_MODULE_2_antd__[\"J\" /* message */].warn(res.obj);}});}else{Object(__WEBPACK_IMPORTED_MODULE_6__axios__[\"b\" /* postAction */])(\"/bigdata/alarmWhitelist/save\",data).then(function(res){if(res.success){__WEBPACK_IMPORTED_MODULE_2_antd__[\"J\" /* message */].success('保存成功！',1,function(){_this.props.history.push('/mainframe/systemsetup/earlywarningwhitelist');});}else{__WEBPACK_IMPORTED_MODULE_2_antd__[\"J\" /* message */].warn(res.obj);}});}}});},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(AddOrEditPage,[{key:'componentWillMount',value:function componentWillMount(){var _this2=this;var params=Object(__WEBPACK_IMPORTED_MODULE_5__utils__[\"d\" /* getHashParam */])();if(params.id){var data={id:params.id};Object(__WEBPACK_IMPORTED_MODULE_6__axios__[\"b\" /* postAction */])(\"/bigdata/alarmWhitelist/findById\",data).then(function(res){if(res.success){_this2.setState({editId:params.id},function(){//获取用户详细信息\nvar data=res.obj;var warnModule=[data.alarmMiss===1?'alarmMiss':null,data.alarmNetwork===1?'alarmNetwork':null,data.alarmFail===1?'alarmFail':null,data.alarmConsume===1?'alarmConsume':null,data.alarmBack===1?'alarmBack':null,data.alarmCourse===1?'alarmCourse':null].filter(function(item){return item!==null;});var editInfo=Object.assign({},{warnModule:warnModule},data)||{};_this2.setState({editInfo:editInfo,selectedStudent:editInfo});});}else{__WEBPACK_IMPORTED_MODULE_2_antd__[\"J\" /* message */].warn(res.obj);}});}}},{key:'render',value:function render(){var _this3=this;var getFieldDecorator=this.props.form.getFieldDecorator;var editInfo=this.state.editInfo;var selectedStudent=this.state.selectedStudent;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Fragment,null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"e\" /* Card */],{title:__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'common-title'},this.state.editId?'编辑个人白名单配置':'新增个人白名单配置')},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,Object.assign({},formItemLayout,{style:{paddingTop:10},label:'\\u9009\\u62E9\\u5B66\\u751F'}),getFieldDecorator('studentNo',{rules:[{required:true,message:'请选择学生！'}],initialValue:editInfo&&editInfo.studentNo})(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"x\" /* Row */],{type:'flex',align:'middle',justify:'center',style:studentStyle,onClick:function onClick(){return _this3.setState({visible:true});}},selectedStudent?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,selectedStudent.name||selectedStudent.studentName,' ',__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('br',null),selectedStudent.studentNo,'\\uFF0C',selectedStudent.collegeName):__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"l\" /* Icon */],{type:'plus'}),' \\u6DFB\\u52A0\\u5B66\\u751F')))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,Object.assign({},formItemLayout,{label:'\\u9009\\u62E9\\u4E0D\\u9884\\u8B66\\u65F6\\u95F4'}),getFieldDecorator('rangePicker',{rules:[{type:'array',required:true,message:'请选择不预警时间！'}],initialValue:editInfo&&[__WEBPACK_IMPORTED_MODULE_4_moment___default()(editInfo.startDate,dateFormat),__WEBPACK_IMPORTED_MODULE_4_moment___default()(editInfo.endDate,dateFormat)]})(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(RangePicker,{style:{width:398},disabledDate:disabledDate}))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,Object.assign({},formItemLayout,{label:'\\u5173\\u8054\\u6A21\\u5757'}),getFieldDecorator('warnModule',{rules:[{type:'array',required:true,message:'请选择关联模块！'}],initialValue:editInfo&&editInfo.warnModule})(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"g\" /* Checkbox */].Group,null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"x\" /* Row */],null,warnModules.map(function(item){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"h\" /* Col */],{span:8,style:{paddingTop:10},key:item.value},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"g\" /* Checkbox */],{value:item.value},item.label));}))))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,Object.assign({},formItemLayout,{label:'\\u5907\\u6CE8'}),getFieldDecorator('remark',{initialValue:editInfo&&editInfo.remark})(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"m\" /* Input */].TextArea,{style:{width:398,height:138,resize:'none'},maxLength:'50'}))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"x\" /* Row */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"h\" /* Col */],formItemLayout.labelCol),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"h\" /* Col */],formItemLayout.wrapperCol,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"d\" /* Button */],{size:'large',type:'primary',style:{marginRight:20},onClick:this.saveAction},'保 存'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_antd__[\"d\" /* Button */],{size:'large',onClick:function onClick(){_this3.props.history.push('/mainframe/systemsetup/earlywarningwhitelist');}},'返 回')))),this.state.visible?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3__ChooseStudentModel__[\"a\" /* default */],{title:'选择学生',visible:this.state.visible,selectedStudent:this.state.selectedStudent,onCancel:function onCancel(){return _this3.setState({visible:false});},onOk:this.chooseStudent}):null);}}]);return AddOrEditPage;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);var AddOrEditPageForm=__WEBPACK_IMPORTED_MODULE_2_antd__[\"k\" /* Form */].create()(AddOrEditPage);/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_1_react_router_dom__[\"withRouter\"])(AddOrEditPageForm));\n\n/***/ }),\n\n/***/ 2244:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_antd__ = __webpack_require__(393);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__common_components_MainModal__ = __webpack_require__(1189);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__axios__ = __webpack_require__(1147);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var columns=[{title:'序号',dataIndex:'index',width:80,align:'center'},{title:'学号',dataIndex:'studentId',width:200,align:'center'},{title:'姓名',dataIndex:'studentName',width:250,align:'center'},{title:'院系',dataIndex:'collegeName',align:'center'}];var ChooseStudentModel=function(_Component){_inherits(ChooseStudentModel,_Component);function ChooseStudentModel(){var _ref;var _temp,_this,_ret;_classCallCheck(this,ChooseStudentModel);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=ChooseStudentModel.__proto__||Object.getPrototypeOf(ChooseStudentModel)).call.apply(_ref,[this].concat(args))),_this),_this.state={pageNum:1,pageSize:10,total:0,studentLists:[],studentNo:undefined,name:undefined,selectedRowKeys:[],selectedRows:[]},_this.getData=function(){var _this$state=_this.state,studentNo=_this$state.studentNo,name=_this$state.name,pageNum=_this$state.pageNum,pageSize=_this$state.pageSize;var data={studentNo:studentNo,name:name,pageInfo:{pageNum:pageNum,pageSize:pageSize}};Object(__WEBPACK_IMPORTED_MODULE_3__axios__[\"b\" /* postAction */])(\"/bigdata/student/getStudentInfoPager\",data).then(function(res){if(res.success){_this.setState({total:res.obj.total,studentLists:res.obj.list||[]});}else{__WEBPACK_IMPORTED_MODULE_1_antd__[\"J\" /* message */].warn(res.obj);}});},_this.onOk=function(){if(_this.state.selectedRows[0]){_this.props.onOk(_this.state.selectedRows[0]);}else{__WEBPACK_IMPORTED_MODULE_1_antd__[\"J\" /* message */].warn('请选择学生！');}},_this.changePage=function(pagination){_this.setState({pageNum:pagination.current,pageSize:pagination.pageSize},function(){_this.getData();});},_this.rowClick=function(record){var data={studentNo:record.studentNo};Object(__WEBPACK_IMPORTED_MODULE_3__axios__[\"b\" /* postAction */])(\"/bigdata/alarmWhitelist/checkName\",data).then(function(res){if(res.success){_this.setState({selectedRowKeys:[record.key],selectedRows:[record]});}else{__WEBPACK_IMPORTED_MODULE_1_antd__[\"J\" /* message */].warn(res.obj);}});},_this.onSelectChange=function(selectedRowKeys,selectedRows){_this.setState({selectedRowKeys:selectedRowKeys,selectedRows:selectedRows});},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(ChooseStudentModel,[{key:'componentWillMount',value:function componentWillMount(){if(this.props.selectedStudent){this.setState({selectedRowKeys:[this.props.selectedStudent.studentNo],selectedRows:[this.props.selectedStudent]});}this.getData();}},{key:'render',value:function render(){var _this2=this;var dataSource=this.state.studentLists||[];dataSource.forEach(function(item,index){dataSource[index].key=item.studentNo;dataSource[index].index=index+1;});var selectedRowKeys=this.state.selectedRowKeys;var rowSelection={selectedRowKeys:selectedRowKeys,type:'radio',columnWidth:\"40px\",onChange:this.onSelectChange};return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__common_components_MainModal__[\"a\" /* default */],{title:this.props.title,visible:this.props.visible,centered:true,onCancel:this.props.onCancel,onOk:this.onOk,width:1004},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"x\" /* Row */],{style:{marginBottom:24}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"h\" /* Col */],{span:5},'\\u5B66\\u53F7\\uFF1A',__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"m\" /* Input */],{style:{width:132},placeholder:'请输入学号',value:this.state.studentNo,onChange:function onChange(e){return _this2.setState({studentNo:e.target.value});}})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"h\" /* Col */],{span:7},'\\u59D3\\u540D\\uFF1A',__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"m\" /* Input */],{style:{width:226},placeholder:'请输入学生姓名',value:this.state.name,onChange:function onChange(e){return _this2.setState({name:e.target.value});}})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"h\" /* Col */],{span:12},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"d\" /* Button */],{icon:'search',type:'primary',onClick:this.getData},'\\u641C \\u7D22'))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"B\" /* Table */],{dataSource:dataSource,bordered:true,rowSelection:rowSelection,columns:columns,pagination:{size:\"small\",current:this.state.pageNum,total:this.state.total,showQuickJumper:true,showTotal:function showTotal(total){return'\\u5171 '+total+' \\u6761\\u6570\\u636E';}},size:'middle',onChange:this.changePage,onRow:function onRow(record,index){return{onClick:function onClick(){return _this2.rowClick(record,index);}// 点击行\n};}}));}}]);return ChooseStudentModel;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);/* harmony default export */ __webpack_exports__[\"a\"] = (ChooseStudentModel);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/29.2b5c67a4.chunk.js","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { Card, Form, DatePicker, Input, Button, Icon, Row, Col, Checkbox, message } from 'antd';\r\nimport ChooseStudentModel from './ChooseStudentModel'\r\nimport moment from 'moment';\r\nimport { getHashParam } from '../../../../../utils'\r\nimport {postAction} from '../../../../../axios';\r\n\r\nconst FormItem = Form.Item;\r\n// const RadioGroup = Radio.Group;\r\nconst RangePicker = DatePicker.RangePicker;\r\n\r\nconst formItemLayout = {\r\n    labelCol: { span: 10},\r\n    wrapperCol: { span: 14, style:{paddingLeft:'10px'}},\r\n};\r\n\r\nconst warnModules = [\r\n    { label: '失联预警', value: 'alarmMiss' },\r\n    // { label: '网络预警', value: 'alarmNetwork' },\r\n    // { label: '挂科预警', value: 'alarmFail' },\r\n    // { label: '消费预警', value: 'alarmConsume' },\r\n    { label: '夜归预警', value: 'alarmBack' },\r\n    { label: '逃课预警', value: 'alarmCourse' },\r\n];\r\nconst disabledDate = (current)=> {\r\n    return current && current < moment().endOf('day');\r\n}\r\n\r\nconst dateFormat = 'YYYY-MM-DD';\r\n\r\nconst studentStyle = { \r\n    width:258,height:58,borderRadius:4,\r\n    border:'1px dashed #d9d9d9',cursor:'pointer',\r\n    marginTop:-10,lineHeight:'20px',textAlign:'center'}\r\n\r\nclass AddOrEditPage extends Component {\r\n    state = {\r\n        visible: false,\r\n        selectedStudent:undefined,\r\n        editId:undefined,\r\n        editInfo:undefined\r\n    }\r\n    componentWillMount(){\r\n        let params = getHashParam();\r\n        if(params.id){\r\n            let data = {id:params.id}\r\n            postAction(\"/bigdata/alarmWhitelist/findById\", data).then(\r\n                (res) => {\r\n                    if (res.success) {\r\n                        this.setState({editId:params.id},()=>{\r\n                            //获取用户详细信息\r\n                            let data =  res.obj;\r\n                            let warnModule = [\r\n                                data.alarmMiss===1?'alarmMiss':null,\r\n                                data.alarmNetwork===1?'alarmNetwork':null,\r\n                                data.alarmFail===1?'alarmFail':null,\r\n                                data.alarmConsume===1?'alarmConsume':null,\r\n                                data.alarmBack===1?'alarmBack':null,\r\n                                data.alarmCourse===1?'alarmCourse':null,\r\n                            ].filter(item=>item!==null);\r\n                            \r\n                            let editInfo = Object.assign({},{ warnModule },data) || {};\r\n                            this.setState({\r\n                                editInfo,\r\n                                selectedStudent:editInfo\r\n                            })\r\n                        })\r\n                    } else {\r\n                        message.warn(res.obj);\r\n                    }\r\n                }\r\n            )\r\n        }\r\n    }\r\n    chooseStudent = (selectedStudent) => {\r\n        this.setState({selectedStudent,visible:false})\r\n        this.props.form.setFieldsValue({studentNo: selectedStudent.studentNo})\r\n    }\r\n    saveAction = () => {\r\n        this.props.form.validateFields(\r\n            (err,values) => {\r\n                if (!err) {\r\n                    const { studentNo, remark, warnModule, rangePicker } = values;\r\n                    let alarmMiss = warnModule.indexOf('alarmMiss')>=0?1:0;\r\n                    let alarmNetwork = warnModule.indexOf('alarmNetwork')>=0?1:0;\r\n                    let alarmFail = warnModule.indexOf('alarmFail')>=0?1:0;\r\n                    let alarmConsume = warnModule.indexOf('alarmConsume')>=0?1:0;\r\n                    let alarmBack = warnModule.indexOf('alarmBack')>=0?1:0;\r\n                    let alarmCourse = warnModule.indexOf('alarmCourse')>=0?1:0;\r\n                    let data = {\r\n                        studentNo,\r\n                        alarmMiss,\r\n                        alarmNetwork,\r\n                        alarmFail,\r\n                        alarmConsume,\r\n                        alarmBack,\r\n                        alarmCourse,\r\n                        remark,\r\n                        startDate:rangePicker[0].format(dateFormat),\r\n                        endDate:rangePicker[1].format(dateFormat)\r\n                    }\r\n                    if(this.state.editInfo){\r\n                        data.id = this.state.editInfo.id;\r\n                        postAction(\"/bigdata/alarmWhitelist/update\", data).then(\r\n                            (res) => {\r\n                                if (res.success) {\r\n                                    message.success('修改成功！',1,()=>{\r\n                                        this.props.history.push('/mainframe/systemsetup/earlywarningwhitelist')\r\n                                    });\r\n                                } else {\r\n                                    message.warn(res.obj);\r\n                                }\r\n                            }\r\n                        ) \r\n                    } else {\r\n                        postAction(\"/bigdata/alarmWhitelist/save\", data).then(\r\n                            (res) => {\r\n                                if (res.success) {\r\n                                    message.success('保存成功！',1,()=>{\r\n                                        this.props.history.push('/mainframe/systemsetup/earlywarningwhitelist')\r\n                                    });\r\n                                } else {\r\n                                    message.warn(res.obj);\r\n                                }\r\n                            }\r\n                        )\r\n                    }\r\n                }\r\n            },\r\n        );\r\n    }\r\n    render(){\r\n        const { getFieldDecorator } = this.props.form;\r\n        let editInfo = this.state.editInfo;\r\n        let selectedStudent = this.state.selectedStudent;\r\n        return (\r\n            <React.Fragment>\r\n                <Card title={<div className=\"common-title\">{this.state.editId?'编辑个人白名单配置':'新增个人白名单配置'}</div>}>\r\n                    <FormItem {...formItemLayout} style={{paddingTop:10}} label=\"选择学生\">\r\n                        {getFieldDecorator('studentNo', {\r\n                            rules: [{\r\n                                required: true,\r\n                                message: '请选择学生！'\r\n                            }],\r\n                            initialValue: editInfo&&editInfo.studentNo,\r\n                        })(\r\n                            <Row type={'flex'} align={'middle'} justify={'center'} \r\n                                style={studentStyle}\r\n                                onClick={()=>this.setState({visible:true})}>\r\n                                {selectedStudent?(\r\n                                    <div>\r\n                                        {selectedStudent.name || selectedStudent.studentName} <br/>\r\n                                        {selectedStudent.studentNo}，{selectedStudent.collegeName}\r\n                                    </div>\r\n                                ):(\r\n                                    <div><Icon type=\"plus\" /> 添加学生</div>\r\n                                )}\r\n                                \r\n                            </Row>\r\n                        )}\r\n                    </FormItem>\r\n                    <FormItem {...formItemLayout} label=\"选择不预警时间\">\r\n                        {getFieldDecorator('rangePicker', {\r\n                            rules: [{\r\n                                type: 'array',\r\n                                required: true,\r\n                                message: '请选择不预警时间！'\r\n                            }],\r\n                            initialValue: editInfo&&[moment(editInfo.startDate, dateFormat),moment(editInfo.endDate, dateFormat)]\r\n                        })(\r\n                            <RangePicker style={{width:398}} \r\n                            disabledDate={disabledDate}/>\r\n                        )}\r\n                    </FormItem>\r\n                    <FormItem {...formItemLayout} label=\"关联模块\">\r\n                        {getFieldDecorator('warnModule', {\r\n                            rules: [{\r\n                                type: 'array',\r\n                                required: true,\r\n                                message: '请选择关联模块！'\r\n                            }],\r\n                            initialValue: editInfo&&editInfo.warnModule\r\n                        })(\r\n                            <Checkbox.Group>\r\n                                <Row>\r\n                                {warnModules.map(item=>(\r\n                                    <Col span={8} style={{paddingTop:10}} key={item.value}>\r\n                                    <Checkbox value={item.value}>{item.label}</Checkbox>\r\n                                    </Col>\r\n                                ))}\r\n                                </Row>\r\n                            </Checkbox.Group>\r\n                        )}\r\n                    </FormItem>\r\n                    {/* <FormItem {...formItemLayout} label=\"状态\">\r\n                        {getFieldDecorator('status', {\r\n                            initialValue: editInfo&&editInfo.warnModule\r\n                        })(\r\n                            <RadioGroup>\r\n                                <Radio value={1}>开启</Radio>\r\n                                <Radio value={2}>关闭</Radio>\r\n                            </RadioGroup>\r\n                        )}\r\n                    </FormItem> */}\r\n                    <FormItem {...formItemLayout} label=\"备注\">\r\n                        {getFieldDecorator('remark',{\r\n                            initialValue: editInfo&&editInfo.remark\r\n                        })(\r\n                            <Input.TextArea style={{width:398,height:138,resize:'none'}} maxLength=\"50\" />\r\n                        )}\r\n                    </FormItem>\r\n                    <Row>\r\n                        <Col {...formItemLayout.labelCol}></Col>\r\n                        <Col {...formItemLayout.wrapperCol}>\r\n                            <Button size=\"large\" type=\"primary\" style={{marginRight:20}} onClick={this.saveAction}>{'保 存'}</Button>\r\n                            <Button size=\"large\" onClick={()=>{\r\n                                this.props.history.push('/mainframe/systemsetup/earlywarningwhitelist')\r\n                            }}>{'返 回'}</Button>\r\n                        </Col>\r\n                    </Row>\r\n                </Card>\r\n                {this.state.visible?(\r\n                    <ChooseStudentModel title={'选择学生'}\r\n                        visible={this.state.visible}\r\n                        selectedStudent={this.state.selectedStudent}\r\n                        onCancel={()=>this.setState({visible:false})}\r\n                        onOk={this.chooseStudent}/>\r\n                ):null}\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\nconst AddOrEditPageForm = Form.create()(AddOrEditPage);\r\nexport default withRouter(AddOrEditPageForm);\n\n\n// WEBPACK FOOTER //\n// ./src/pages/SystemSetup/EarlyWarningSetting/WhiteListConfig/Personal/AddOrEditPage.js","import React, { Component } from 'react'\r\nimport { Button, Input, Row, Col, message, Table } from 'antd'\r\nimport MainModal from '../../../../../common/components/MainModal'\r\nimport {postAction} from '../../../../../axios';\r\n\r\nlet columns = [{\r\n    title: '序号',\r\n    dataIndex: 'index',\r\n    width: 80,\r\n    align: 'center',\r\n}, {\r\n    title: '学号',\r\n    dataIndex: 'studentId',\r\n    width: 200,\r\n    align: 'center'\r\n}, {\r\n    title: '姓名',\r\n    dataIndex: 'studentName',\r\n    width: 250,\r\n    align: 'center'\r\n}, {\r\n    title: '院系',\r\n    dataIndex: 'collegeName',\r\n    align: 'center'\r\n}];\r\n\r\nclass ChooseStudentModel extends Component {\r\n    state = {\r\n        pageNum: 1,\r\n        pageSize: 10,\r\n        total: 0,\r\n        studentLists: [],\r\n        studentNo: undefined,\r\n        name: undefined,\r\n        selectedRowKeys:[],\r\n        selectedRows:[]\r\n    }\r\n    componentWillMount(){\r\n        if(this.props.selectedStudent){\r\n            this.setState({\r\n                selectedRowKeys:[this.props.selectedStudent.studentNo],\r\n                selectedRows:[this.props.selectedStudent]\r\n            })\r\n        }\r\n        this.getData();\r\n    }\r\n    getData = () => {\r\n        let {studentNo,name,pageNum,pageSize} = this.state;\r\n        let data = {\r\n            studentNo,\r\n            name,\r\n            pageInfo:{\r\n                pageNum,\r\n                pageSize,\r\n              }\r\n        }\r\n        postAction(\"/bigdata/student/getStudentInfoPager\", data).then(\r\n            (res) => {\r\n                if (res.success) {\r\n                    this.setState({\r\n                        total: res.obj.total,\r\n                        studentLists: res.obj.list || []\r\n                    })\r\n                } else {\r\n                    message.warn(res.obj);\r\n                }\r\n            }\r\n        )\r\n    }\r\n    onOk = ()=> {\r\n        if(this.state.selectedRows[0]){\r\n            this.props.onOk(this.state.selectedRows[0])\r\n        } else {\r\n            message.warn('请选择学生！')\r\n        }\r\n    }\r\n    changePage = (pagination)=> {\r\n        this.setState({pageNum:pagination.current,pageSize:pagination.pageSize},()=>{\r\n           this.getData();\r\n        })\r\n    }\r\n    rowClick = (record) => {\r\n        let data = {studentNo: record.studentNo};\r\n        postAction(\"/bigdata/alarmWhitelist/checkName\", data).then(\r\n            (res) => {\r\n                if (res.success) {\r\n                    this.setState({\r\n                        selectedRowKeys: [record.key],\r\n                        selectedRows: [record]\r\n                    })\r\n                } else {\r\n                    message.warn(res.obj);\r\n                }\r\n            }\r\n        )\r\n    }\r\n    onSelectChange = (selectedRowKeys, selectedRows) => {\r\n        this.setState({ selectedRowKeys, selectedRows });\r\n    }\r\n    render() {\r\n        const dataSource = this.state.studentLists || [];\r\n        dataSource.forEach((item,index)=>{\r\n            dataSource[index].key = item.studentNo;\r\n            dataSource[index].index = index + 1;\r\n        })\r\n\r\n        const selectedRowKeys = this.state.selectedRowKeys;\r\n        const rowSelection = {\r\n            selectedRowKeys,\r\n            type: 'radio',\r\n            columnWidth: \"40px\",\r\n            onChange: this.onSelectChange,\r\n        };\r\n\r\n        return (\r\n            <MainModal\r\n                title={this.props.title}\r\n                visible={this.props.visible}\r\n                centered\r\n                onCancel={this.props.onCancel}\r\n                onOk={this.onOk}\r\n                width={1004}\r\n            >\r\n                <Row style={{marginBottom:24}}>\r\n                    <Col span={5}>\r\n                        学号：<Input style={{width:132}} placeholder={'请输入学号'} value={this.state.studentNo}\r\n                            onChange={(e)=>this.setState({studentNo:e.target.value})}/>\r\n                    </Col>\r\n                    <Col span={7}>\r\n                        姓名：<Input style={{width:226}} placeholder={'请输入学生姓名'} value={this.state.name} \r\n                            onChange={(e)=>this.setState({name:e.target.value})}/>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                        <Button icon=\"search\" type=\"primary\" onClick={this.getData}>搜 索</Button>\r\n                    </Col>\r\n                </Row>\r\n                <Table dataSource={dataSource} \r\n                    bordered\r\n                    rowSelection={rowSelection}\r\n                    columns={columns}\r\n                    pagination={{\r\n                        size: \"small\",\r\n                        current:this.state.pageNum,\r\n                        total:this.state.total,\r\n                        showQuickJumper: true,\r\n                        showTotal: total => `共 ${total} 条数据`\r\n                    }}\r\n                    size=\"middle\"\r\n                    onChange={this.changePage}\r\n                    onRow={(record, index) => {\r\n                        return {\r\n                            onClick: () => this.rowClick(record, index),// 点击行\r\n                        };\r\n                    }} />\r\n            </MainModal>\r\n        )\r\n    }\r\n}\r\nexport default ChooseStudentModel;\n\n\n// WEBPACK FOOTER //\n// ./src/pages/SystemSetup/EarlyWarningSetting/WhiteListConfig/Personal/ChooseStudentModel.js"],"sourceRoot":""}