webpackJsonp([9],{1149:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=a(0),s=a.n(i),l=a(393),c=a(1177),u=a.n(c),p=a(1178),h=(a.n(p),function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}()),f=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),h(t,[{key:"render",value:function(){return s.a.createElement(l.x,{className:"no-data-con",style:{height:this.props.height?this.props.height:"100%"}},"nodata"===this.props.data?s.a.createElement(l.h,{span:24,className:"no-data"},s.a.createElement("img",{src:u.a,alt:"nodata"})):s.a.createElement(l.z,{size:"large"}))}}]),t}(i.Component);t.a=f},1152:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=a(0),s=a.n(i),l=a(393),c=a(1180),u=a(1169),p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=function(e){function t(){var e,a,o,i;n(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return a=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.handleMingxi=function(){o.props.detailCallback()},i=a,r(o,i)}return o(t,e),p(t,[{key:"render",value:function(){return s.a.createElement(l.e,{className:this.props.className,headStyle:{border:"none"},title:s.a.createElement("div",{style:{lineHeight:"34px"}},this.props.title),extra:this.props.extra||s.a.createElement(s.a.Fragment,null,s.a.createElement(l.w.Group,{value:this.props.tab||"1",style:{marginRight:10},onChange:this.props.changeTab},s.a.createElement(l.G,{placement:"top",title:"\u56fe\u8868"},s.a.createElement(l.w.Button,{value:"1"},s.a.createElement(l.l,{type:"bar-chart",theme:"outlined"}))),s.a.createElement(l.G,{placement:"top",title:"\u8868\u683c"},s.a.createElement(l.w.Button,{value:"2"},s.a.createElement(l.l,{type:"table",theme:"outlined"})))),"1"===this.props.tab?s.a.createElement(c.a,this.props.downloadChart||{},s.a.createElement(l.G,{placement:"top",title:"\u5bfc\u51fa"},s.a.createElement(l.d,{theme:"outlined",style:{padding:"0px 8px"}},s.a.createElement("i",{className:"iconfont icon-daochu1"})))):s.a.createElement(u.a,Object.assign({},this.props.tableToExcel||{},{content:s.a.createElement(l.G,{placement:"top",title:"\u5bfc\u51fa"},s.a.createElement(l.d,{theme:"outlined",style:{padding:"0px 8px"}},s.a.createElement("i",{className:"iconfont icon-daochu1"})))})),this.props.detailCallback?s.a.createElement(l.G,{placement:"top",title:"\u5bfc\u51fa\u660e\u7ec6"},s.a.createElement(l.d,{onClick:this.handleMingxi,style:{marginLeft:10,padding:"0px 8px"},theme:"outlined"},s.a.createElement("i",{className:"iconfont icon-daochu"}))):null)},this.props.children)}}]),t}(i.Component);t.a=h},1153:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n=""},1166:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=a(0),s=a.n(i),l=a(394),c=(a.n(l),a(395)),u=(a.n(c),a(1149)),p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),p(t,[{key:"onFirstLoad",value:function(e){this.props.onFirstLoad&&this.props.onFirstLoad(e)}},{key:"onClickAction",value:function(e){this.props.onClickAction&&this.props.onClickAction(e)}},{key:"render",value:function(){var e=this,t=this.props.height||350,a=c.DataSet.DataView,n=this.props.data,r=new a,o=void 0,i=void 0;if(!n||!n[0])return s.a.createElement(u.a,{height:t,data:"nodata"});i=Object.keys(n[0])[0],o=Object.keys(n[0])[1],r.source(n).transform({type:"percent",field:o,dimension:i,as:"percent"});var p={percent:{formatter:function(e){return e=(100*e).toFixed(2)+"%"}}};return s.a.createElement(l.Chart,{height:t,data:r,scale:p,padding:this.props.padding,forceFit:!0,onGetG2Instance:function(t){return e.onFirstLoad(t)},onPlotClick:function(t){return e.onClickAction(t)}},s.a.createElement(l.Coord,{type:"theta",radius:this.props.radius||.75,innerRadius:this.props.innerRadius}),s.a.createElement(l.Axis,{name:"percent"}),this.props.noLegend?null:s.a.createElement(l.Legend,{marker:"circle",position:this.props.position,offsetY:this.props.offsetY,offsetX:this.props.offsetX,"g2-legend":this.props.g2Legend||{},useHtml:!0}),s.a.createElement(l.Tooltip,{showTitle:!1,itemTpl:'<li><span style="background-color:{color};" class="g2-tooltip-marker"></span>{name}: {value}</li>'}),s.a.createElement(l.Geom,{type:"intervalStack",position:"percent",color:[i,this.props.colors],tooltip:this.props.geomTooltip||[i+"*percent*"+o,function(e,t,a){return t=(100*t).toFixed(2)+"%",{name:e,value:a+" ("+t+")"}}],style:{lineWidth:1,stroke:"#fff"}},s.a.createElement(l.Label,{content:"percent",formatter:function(e,t){return t.point[i]+": "+e}})),this.props.children)}}]),t}(i.Component);t.a=h},1169:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=a(0),s=a.n(i),l=a(393),c=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),u=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.base64=function(e){return window.btoa(unescape(encodeURIComponent(e)))},a.format=function(e,t){return e.replace(/{(\w+)}/g,function(e,a){return t[a]})},a.handleDownload=function(){if(!document)return null;if(!a.props.table)return console.error("\u9700\u4f20\u5165table\u53c2\u6570\uff0c\u53c2\u6570\u4e3atable\u7684id\uff01"),null;if(1!==document.getElementById(a.props.table).nodeType||"TABLE"!==document.getElementById(a.props.table).nodeName)return null;var e=document.getElementById(a.props.table).outerHTML,t=String(a.props.sheet),n=String(a.props.filename)+".xls",r={worksheet:t||"Worksheet",table:e},o=window.document.createElement("a");return o.href="data:application/vnd.ms-excel;base64,"+a.base64(a.format('<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta charset="UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body>{table}</body></html>',r)),o.download=n,document.body.appendChild(o),o.click(),document.body.removeChild(o),!0},a.handleDownload=a.handleDownload.bind(a),a}return o(t,e),c(t,[{key:"render",value:function(){var e=this.props.content?s.a.createElement("span",{onClick:this.handleDownload},this.props.content):s.a.createElement(l.d,{id:this.props.id,className:this.props.className,onClick:this.handleDownload},this.props.buttonText);return s.a.createElement(s.a.Fragment,null,e)}}]),t}(i.Component);t.a=u},1172:function(e,t,a){!function(t,n){e.exports=n(a(0))}(0,function(e){return function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var a={};return t.m=e,t.c=a,t.i=function(e){return e},t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)0>t.indexOf(n)&&Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){if(e.onChange!==t.onChange)return!0;for(var a=0;y.length>a;a+=1){var n=y[a];if(!window.G2.Util.isEqual(e[n],t[n]))return!0}return!1}var c=Object.assign||function(e){for(var t=1;arguments.length>t;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u=function(){function e(e,t){for(var a=0;t.length>a;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=a(2),h=n(p),f=a(1),d=n(f),m=a(3),g=n(m),y=["width","height","padding","xAis","yAxis","start","end","fillerStyle","backgroundStyle","scales","textStyle","handleStyle","backgroundChart"],b=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.refHandle=function(t){e.container||(e.container=t)},e.reBuild=!1,e}return s(t,e),u(t,[{key:"componentDidMount",value:function(){this.createG2Instance().render()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,a=t.data,n=r(t,["data"]),o=e.data,i=r(e,["data"]);a!==o&&(this.slider.changeData(o),this.slider.repaint()),l(n,i)&&(this.reBuild=!0)}},{key:"componentDidUpdate",value:function(){this.reBuild&&(this.slider.destroy(),this.createG2Instance().render(),this.reBuild=!1)}},{key:"componentWillUnmount",value:function(){this.slider.destroy()}},{key:"createG2Instance",value:function(){return this.slider=new h.default(c({container:this.container},this.props))}},{key:"render",value:function(){return d.default.createElement("div",{ref:this.refHandle})}}]),t}(f.Component);t.default=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),u(t,[{key:"render",value:function(){return d.default.createElement(g.default,null,d.default.createElement(b,this.props))}}]),t}(f.Component),e.exports=t.default},function(t,a){t.exports=e},function(e,t,a){!function(t,a){e.exports=function(){return function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var a={};return t.m=e,t.c=a,t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,a){var n=a(1);window&&!window.G2&&console.err("Please load the G2 script first!"),e.exports=n},function(e,t,a){var n=a(2),r=window&&window.G2,o=r.Chart,i=r.Util,s=r.G,l=r.Global,c=s.Canvas,u=i.DomUtil,p=function(e){return"number"==typeof e};e.exports=function(){function e(e){this._initProps(),i.deepMix(this,e);var t=this.container;if(!t)throw Error("Please specify the container for the Slider!");this.domContainer=i.isString(t)?document.getElementById(t):t,this.handleStyle=i.mix({width:this.height,height:this.height},this.handleStyle),"auto"===this.width&&window.addEventListener("resize",i.wrapBehavior(this,"_initForceFitEvent"))}var t=e.prototype;return t._initProps=function(){this.height=26,this.width="auto",this.padding=l.plotCfg.padding,this.container=null,this.xAxis=null,this.yAxis=null,this.fillerStyle={fill:"#BDCCED",fillOpacity:.3},this.backgroundStyle={stroke:"#CCD6EC",fill:"#CCD6EC",fillOpacity:.3,lineWidth:1},this.range=[0,100],this.layout="horizontal",this.textStyle={fill:"#545454"},this.handleStyle={img:"https://gw.alipayobjects.com/zos/rmsportal/QXtfhORGlDuRvLXFzpsQ.png",width:5},this.backgroundChart={type:["area"],color:"#CCD6EC"}},t._initForceFitEvent=function(){var e=setTimeout(i.wrapBehavior(this,"forceFit"),200);clearTimeout(this.resizeTimer),this.resizeTimer=e},t.forceFit=function(){if(this&&!this.destroyed){var e=u.getWidth(this.domContainer),t=this.height;if(e!==this.domWidth){var a=this.canvas;a.changeSize(e,t),this.bgChart&&this.bgChart.changeWidth(e),a.clear(),this._initWidth(),this._initSlider(),this._bindEvent(),a.draw()}}},t._initWidth=function(){var e;e="auto"===this.width?u.getWidth(this.domContainer):this.width,this.domWidth=e;var t=i.toAllPadding(this.padding);"horizontal"===this.layout?(this.plotWidth=e-t[1]-t[3],this.plotPadding=t[3],this.plotHeight=this.height):"vertical"===this.layout&&(this.plotWidth=this.width,this.plotHeight=this.height-t[0]-t[2],this.plotPadding=t[0])},t.render=function(){this._initWidth(),this._initCanvas(),this._initBackground(),this._initSlider(),this._bindEvent(),this.canvas.draw()},t.changeData=function(e){this.data=e,this.repaint()},t.destroy=function(){clearTimeout(this.resizeTimer),this.rangeElement.off("sliderchange"),this.bgChart&&this.bgChart.destroy(),this.canvas.destroy();for(var e=this.domContainer;e.hasChildNodes();)e.removeChild(e.firstChild);window.removeEventListener("resize",i.getWrapBehavior(this,"_initForceFitEvent")),this.destroyed=!0},t.clear=function(){this.canvas.clear(),this.bgChart&&this.bgChart.destroy(),this.bgChart=null,this.scale=null,this.canvas.draw()},t.repaint=function(){this.clear(),this.render()},t._initCanvas=function(){var e=this.domWidth,t=this.height,a=new c({width:e,height:t,containerDOM:this.domContainer,capture:!1}),n=a.get("el");n.style.position="absolute",n.style.top=0,n.style.left=0,n.style.zIndex=3,this.canvas=a},t._initBackground=function(){var e,t=this.data,a=this.xAxis,n=this.yAxis,r=i.deepMix((e={},e[""+a]={range:[0,1]},e),this.scales);if(!t)throw Error("Please specify the data!");if(!a)throw Error("Please specify the xAxis!");if(!n)throw Error("Please specify the yAxis!");var s=this.backgroundChart,l=s.type,c=s.color;i.isArray(l)||(l=[l]);var u=i.toAllPadding(this.padding),p=new o({container:this.container,width:this.domWidth,height:this.height,padding:[0,u[1],0,u[3]],animate:!1});p.source(t),p.scale(r),p.axis(!1),p.tooltip(!1),p.legend(!1),i.each(l,function(e){p[e]().position(a+"*"+n).color(c).opacity(1)}),p.render(),this.bgChart=p,this.scale="horizontal"===this.layout?p.getXScale():p.getYScales()[0],"vertical"===this.layout&&p.destroy()},t._initRange=function(){var e=this.startRadio,t=this.endRadio,a=this.start,n=this.end,r=this.scale,o=0,i=1;p(e)?o=e:a&&(o=r.scale(r.translate(a))),p(t)?i=t:n&&(i=r.scale(r.translate(n)));var s=this.minSpan,l=this.maxSpan,c=0;if("time"===r.type||"timeCat"===r.type){var u=r.values;c=u[u.length-1]-u[0]}else r.isLinear&&(c=r.max-r.min);c&&s&&(this.minRange=s/c*100),c&&l&&(this.maxRange=l/c*100);var h=[100*o,100*i];return this.range=h,h},t._getHandleValue=function(e){var t=this.range,a=t[0]/100,n=t[1]/100,r=this.scale;return"min"===e?this.start?this.start:r.invert(a):this.end?this.end:r.invert(n)},t._initSlider=function(){var e=this.canvas,t=this._initRange(),a=this.scale,r=e.addGroup(n,{middleAttr:this.fillerStyle,range:t,minRange:this.minRange,maxRange:this.maxRange,layout:this.layout,width:this.plotWidth,height:this.plotHeight,backgroundStyle:this.backgroundStyle,textStyle:this.textStyle,handleStyle:this.handleStyle,minText:a.getText(this._getHandleValue("min")),maxText:a.getText(this._getHandleValue("max"))});"horizontal"===this.layout?r.translate(this.plotPadding,0):"vertical"===this.layout&&r.translate(0,this.plotPadding),this.rangeElement=r},t._bindEvent=function(){var e=this;e.rangeElement.on("sliderchange",function(t){var a=t.range;e._updateElement(a[0]/100,a[1]/100)})},t._updateElement=function(e,t){var a=this.scale,n=this.rangeElement,r=n.get("minTextElement"),o=n.get("maxTextElement"),i=a.invert(e),s=a.invert(t),l=a.getText(i),c=a.getText(s);r.attr("text",l),o.attr("text",c),this.start=l,this.end=c,this.onChange&&this.onChange({startText:l,endText:c,startValue:i,endValue:s,startRadio:e,endRadio:t})},e}()},function(e,t){function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var n=window&&window.G2,r=n.Util,o=n.G,i=o.Group,s=r.DomUtil;e.exports=function(e){function t(){return e.apply(this,arguments)||this}a(t,e);var n=t.prototype;return n.getDefaultCfg=function(){return{range:null,middleAttr:null,backgroundElement:null,minHandleElement:null,maxHandleElement:null,middleHandleElement:null,currentTarget:null,layout:"vertical",width:null,height:null,pageX:null,pageY:null}},n._initHandle=function(e){var t,a,n,o=this.addGroup(),i=this.get("layout"),s=this.get("handleStyle"),l=s.img,c=s.width,u=s.height;if("horizontal"===i){var p=s.width;n="ew-resize",a=o.addShape("Image",{attrs:{x:-p/2,y:0,width:p,height:u,img:l,cursor:n}}),t=o.addShape("Text",{attrs:r.mix({x:"min"===e?-(p/2+5):p/2+5,y:u/2,textAlign:"min"===e?"end":"start",textBaseline:"middle",text:this.get("min"===e?"minText":"maxText"),cursor:n},this.get("textStyle"))})}else n="ns-resize",a=o.addShape("Image",{attrs:{x:0,y:-u/2,width:c,height:u,img:l,cursor:n}}),t=o.addShape("Text",{attrs:r.mix({x:c/2,y:"min"===e?u/2+5:-(u/2+5),textAlign:"center",textBaseline:"middle",text:this.get("min"===e?"minText":"maxText"),cursor:n},this.get("textStyle"))});return this.set(e+"TextElement",t),this.set(e+"IconElement",a),o},n._initSliderBackground=function(){var e=this.addGroup();return e.initTransform(),e.translate(0,0),e.addShape("Rect",{attrs:r.mix({x:0,y:0,width:this.get("width"),height:this.get("height")},this.get("backgroundStyle"))}),e},n._beforeRenderUI=function(){var e=this._initSliderBackground(),t=this._initHandle("min"),a=this._initHandle("max"),n=this.addShape("rect",{attrs:this.get("middleAttr")});this.set("middleHandleElement",n),this.set("minHandleElement",t),this.set("maxHandleElement",a),this.set("backgroundElement",e),e.set("zIndex",0),n.set("zIndex",1),t.set("zIndex",2),a.set("zIndex",2),n.attr("cursor","move"),this.sort()},n._renderUI=function(){"horizontal"===this.get("layout")?this._renderHorizontal():this._renderVertical()},n._transform=function(e){var t=this.get("range"),a=t[0]/100,n=t[1]/100,r=this.get("width"),o=this.get("height"),i=this.get("minHandleElement"),s=this.get("maxHandleElement"),l=this.get("middleHandleElement");i.resetMatrix?(i.resetMatrix(),s.resetMatrix()):(i.initTransform(),s.initTransform()),"horizontal"===e?(l.attr({x:r*a,y:0,width:(n-a)*r,height:o}),i.translate(a*r,0),s.translate(n*r,0)):(l.attr({x:0,y:o*(1-n),width:r,height:(n-a)*o}),i.translate(0,(1-a)*o),s.translate(0,(1-n)*o))},n._renderHorizontal=function(){this._transform("horizontal")},n._renderVertical=function(){this._transform("vertical")},n._bindUI=function(){this.on("mousedown",r.wrapBehavior(this,"_onMouseDown"))},n._isElement=function(e,t){var a=this.get(t);return e===a||!!a.isGroup&&a.get("children").indexOf(e)>-1},n._getRange=function(e,t){var a=e+t;return a=a>100?100:a,a=0>a?0:a},n._limitRange=function(e,t,a){a[0]=this._getRange(e,a[0]),(a[1]=a[0]+t)>100&&(a[1]=100,a[0]=a[1]-t)},n._updateStatus=function(e,t){var a=this.get("x"===e?"width":"height");e=r.upperFirst(e);var n,o=this.get("range"),i=this.get("page"+e),s=this.get("currentTarget"),l=this.get("rangeStash"),c=this.get("layout"),u="vertical"===c?-1:1,p=t["page"+e],h=p-i,f=h/a*100*u,d=this.get("minRange"),m=this.get("maxRange");o[1]>o[0]?(this._isElement(s,"minHandleElement")&&(o[0]=this._getRange(f,o[0]),d&&(o[1]-o[0]>d||this._limitRange(f,d,o)),m&&(m>o[1]-o[0]||this._limitRange(f,m,o))),this._isElement(s,"maxHandleElement")&&(o[1]=this._getRange(f,o[1]),d&&(o[1]-o[0]>d||this._limitRange(f,d,o)),m&&(m>o[1]-o[0]||this._limitRange(f,m,o)))):(this._isElement(s,"minHandleElement")||this._isElement(s,"maxHandleElement"))&&(o[0]=this._getRange(f,o[0]),o[1]=this._getRange(f,o[0])),this._isElement(s,"middleHandleElement")&&(n=l[1]-l[0],this._limitRange(f,n,o)),this.emit("sliderchange",{range:o}),this.set("page"+e,p),this._renderUI(),this.get("canvas").draw()},n._onMouseDown=function(e){var t=e.currentTarget,a=e.event,n=this.get("range");a.stopPropagation(),a.preventDefault(),this.set("pageX",a.pageX),this.set("pageY",a.pageY),this.set("currentTarget",t),this.set("rangeStash",[n[0],n[1]]),this._bindCanvasEvents()},n._bindCanvasEvents=function(){var e=this.get("canvas").get("containerDOM");this.onMouseMoveListener=s.addEventListener(e,"mousemove",r.wrapBehavior(this,"_onCanvasMouseMove")),this.onMouseUpListener=s.addEventListener(e,"mouseup",r.wrapBehavior(this,"_onCanvasMouseUp")),this.onMouseLeaveListener=s.addEventListener(e,"mouseleave",r.wrapBehavior(this,"_onCanvasMouseUp"))},n._onCanvasMouseMove=function(e){"horizontal"===this.get("layout")?this._updateStatus("x",e):this._updateStatus("y",e)},n._onCanvasMouseUp=function(){this._removeDocumentEvents()},n._removeDocumentEvents=function(){this.onMouseMoveListener.remove(),this.onMouseUpListener.remove(),this.onMouseLeaveListener.remove()},t}(i)}])}()}()},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;t.length>a;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(1),l=function(e){return e&&e.__esModule?e:{default:e}}(s);t.default=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={hasError:!1},a}return o(t,e),i(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"unstable_handleError",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?l.default.createElement("h1",null,"Slider error."):this.props.children}}]),t}(l.default.Component)},function(e,t,a){a(0),e.exports=a(0)}])})},1177:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASQAAACnCAMAAACPdNEcAAABI1BMVEUAAADMzMzMzMzMzMzs7Ozs7Oz39/fs7Oz7+/v19fXMzMzi4uLMzMzMzMzj4+P7+/vMzMzMzMzMzMz6+vr8/PzMzMz4+PjMzMzy8vLMzMz39/fMzMz5+fn4+Pji4uL4+Pj8/Pz39/fMzMz4+Pjn5+f09PT19fXt7e39/f38/Pz6+vr9/f3x8fHs7Ozu7u7+/v7MzMzt7e3n5+fg4OD8/Pz7+/v////l5eX09PT29vb7+/vt7e3o6Oj29vb7+/vp6eni4uLf39/i4uLx8fHt7e3e3t7v7+/09PTp6eng4ODv7+/s7Ozk5OT9/f36+vr19fXMzMzq6uru7u7m5ubn5+f39/fw8PDt7e38/Pz5+fnh4eHk5OTp6enf39/j4+Py8vLv7+/EBch2AAAATnRSTlMAv4BAQr4E9ULvMEIgEL0p79/Pviyf72BDj71Q1tPPdTERr/rU0tXVvYqKdSwqdBFw+vr67raLdDn61siKdEop+u/Ty8K7i4oy7+64cgsSWVCPAAAIdUlEQVR42uzaW2/aMBQHcD+EjAmpeQBN1dSGTOLSC+m0oQ60trtwaWm7OXLiJGAnTr7/p5izPWwK3QK0aMU5P154QEj56xzHPjICAAAAAAAAAAAAAAAAAAAAAOyq75/OX718sZaXr84/fUclojdOD5KQhGsgYXJw2tBReRgfDt9xTskaGVHO3x1+MFBZvLVOD1LeH+1V1rA36vP04NR6i8rBknXksdGgpq2hNhgxT9aShcphWA/4V/PyM1rL50vzKw/qQ1QO2gVl5jdbR2vR7W8moxcaKgPdHpjcm2gbhDvxuDmwy/CGsy/NW57Wh5u0acpvzUsbqU7vnbWYyBbgzRZ8wVpnPdVryb7p9hk5lK/yjbYOh4T1uzdq15Ksoy5n79vHBtqIcdx+z3hX7VoybrpfGOk0G/qmx5lmh7Av3Rt1d9564+pnHZ0Yj4j55GctXSl7isseMKbtgjoqrKU2jWXQatZS1iqRbJUT47FRy5aNOk0la+l3o/z/pn2m5AQpt+Q+evlXb7qUTZCEyG8EN9+QCqHcdCmbILmi37q20ZOwr1t94So2XcoOFDx3oHj04YYrNl1aZYJU+umSNqGiaIK0/nRJ0Ik606VsgiSi+x56Ur37SCg0XfrZGsn5U4d0nvxqYRW8mclFlkVO+0zL2a829FV3WdV9Lees7URMvgxmb9Dum8nXdSxIcDeu5Exenxir7tZfTyo547uAiFhuK2Zo9+1f0DjmZEkUEbfTtN6sUItWs+Nmv1/C45he7KPdJ0NisUeWHjKiIhu/WaiQlY3aBI2WQiZezNQISatE3CNu6uaFPGbhuIoKVcchi3no5qUu8XhUUWEboFVIFCa+7yxJKZd1sFItcpo6S3w/CSOiSkjE9edzvPTxA8L3aqhQbY+TwH/gD+a+S9QJKc1CyptjJxTTVUKaitCRP8+TIaUKheQ6+CF+yqYzVGg2ZamPH+KoVEkPhzTHAZsOUaHhlAV4XuKQzEFPLxqLDMySh3Tbuv5ccPK7bt2WOqSECt4a1P5p0OKCJqUNCWM/oExeC/ynUZ/RwMdlXbglP+VMeNT7K+oJxlMflzkk7ARh6P5TGAYOLndIeOE7BfwFLmdIi8Uf3wtgDCEVKm1IGENIEBKEhCCkFTzXkBYLCAlCgnaDkJ5PSNBuEBK0WzHrfrsh3atwJXBYIdH2QopIZbevBOqNqnQ1jrYZUjS+qko7e6fbOD46qtfbd5RuLyRK79r1+tHR8S7e6c6qqPlxjrGfkO2G9IN6M1hxEAbCsKeFnnrwIqL0ECh0e+7BwvYVBhsnETVN3/8pdmKRabqXpcTCfNJjPXz8xmRmbD1S4+W8E5im7Xee1woJ3+o1JWmSRKg6z0V9bRImHHfVUrw2a0sySym82hVi0vS1PeTlvkH4rCTAZl/mh60MS5fjeU4RS5rua0m6TyxpTtP5eMkkcKoUO/pIkhhU1SmTwKKIJWkLNMSVnh6sXiSxpkwCCiK81QMPPKSBBy4GbT1EyJC0gRjTuTA6068gydxcZyBmk0ngVZJvnWtp5jH9Bda5yYuUpOCF680NrQGEpCDZH93NAiPocVP4J0qDc9peE2M7R/I9gMSFe9kCMGYa3DB2iRnpppMBAIlbAN5MsiXb6XHUSaH7dXZ2JHEzyceSSFObnEWRxGMJH3Cf8SY13sMDiQfcqFQCMZjoekFgqeS56MZ5Sg9nSGjRjcu3ZVk3iJjcTPghNnVZii3fciOgoPWpD81FTGwptCt7WocK0Y2A50SFSAX2DQbeNkOEtxgRAiQ4QQwnKlAQP3OqAvjgv2oI+tMjPb/s3L0KgzAQB/D7mBoiqKBSOtUX0EHH+gaFe/+n6cVaU3Vwbno/MMNFD/LncMxDG+n8JDFBq2fXdfe3aRyCOrqcqqMhGKelmbb9q2vMjTHGGGOMMcYY8/MaD+aEE9xXspMvsNE1vFSWMWBtkyjH3Apx4D0RtYi5SK87fBRi6SvdEgKgQvORHLYh4bdUUkNZEetSIFbUu3DmI9byVQh4fsoMbtLuQpINSINjlIZnPpw9ooUIfXhQpTALuTz3IbFmHxLGAqYSEnjB5R8zD8jRfh78iz1zW3UdhKLourxJBJcgInnLF+RT5v9/zTGaiyndD+dxyx4tlRJXwcF01bT7MdHzkTZDOfUdNq2Oc0piuMuOIukJ3XhEGshSSWCpkOJC7zHqTZxGEm5IvzUTBb+dPhBjvWaoNj9+yp5ETzJIsPe1jklakeiDDJRuB2t7W4aeZHJj00gamtGGpa91RCD0JiEB2Fuq5JkxNu4+OKU5OHLEEcbA2XT7K+MrRC4iK0pCWmFIza2OkiY8WBqMOSKKCEOf9RU+AXjAJ4S1JS9BkoO1j1hOMWshhF4VpjpN3ttNn9Yy4BBphHmhpR0ZxHc/C+xsXhXCnJ2bFl0lq6pox70bUKEsC134+jTz99WdMhLRsgEIxc253SqCN0wPHliIoWMP2xCv8/eKSBvWKgmhHIUO26ySdh14ra+tfJT0cSdnyAhUWbsYhTitIPZMToM8Dj5D4AAdJHl6vsw4+DOFMhTuyIyLmeIkSDIwLM0bCg2SOC7XjX/ubnxA8IOkBMeQk7kkveHbUUT0o6SIKslgmVwwf0YtuEGSBWK8MlmazRiOxhXs1/4G+tN287EJGCQBVFGGhX7FBdSHuwsV26ckHEXa1Asg9Ev5QZK7HBEjt3GB9dGAIL45SodKvQo3rNMmKfJAl+QFiO6aEIpUrLWjdQNKNpjXgNQCB/GeHFgPi7M27i+SGEj+2Xcdc34LQDrykLMAqV1mwBmAPWI9KvlkJkmZHQ1wocoSlR7cfRTnLfurDvulWagwC7nS9M7/98l/4OmPP/61B4cEAAAAAIL+v/aGAQAAAAAAAB4CCph5mELVUckAAAAASUVORK5CYII="},1178:function(e,t,a){var n=a(1179);"string"===typeof n&&(n=[[e.i,n,""]]);var r={hmr:!1};r.transform=void 0;a(1140)(n,r);n.locals&&(e.exports=n.locals)},1179:function(e,t,a){t=e.exports=a(1139)(!0),t.push([e.i,".no-data-con{height:100%;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;position:relative}.no-data-con .no-data{position:absolute;top:50%;left:50%;width:auto;-webkit-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}","",{version:3,sources:["D:/\u4e09\u76df\u79d1\u6280\u9879\u76ee\u4ee3\u7801/BigData.DNDX.Front/src/common/components/NoData/noData.less"],names:[],mappings:"AAAA,aACE,YAAa,AACb,oBAAqB,AACrB,aAAc,AACd,qBAAsB,AAClB,uBAAwB,AAC5B,sBAAuB,AACnB,mBAAoB,AACxB,iBAAmB,CACpB,AACD,sBACE,kBAAmB,AACnB,QAAS,AACT,SAAU,AACV,WAAY,AACZ,uCAAyC,AACrC,mCAAqC,AACjC,8BAAiC,CAC1C",file:"noData.less",sourcesContent:[".no-data-con {\n  height: 100%;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: center;\n      justify-content: center;\n  -ms-flex-align: center;\n      align-items: center;\n  position: relative;\n}\n.no-data-con .no-data {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: auto;\n  -webkit-transform: translate(-50%, -50%);\n      -ms-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n}\n"],sourceRoot:""}])},1180:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=a(0),s=a.n(i),l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),c=function(e){function t(){var e,a,o,i;n(this,t);for(var s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];return a=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.handleClick=function(){var e=o.props,t=e.chartIns,a=e.title,n=e.imageType,r=e.fillStyle;if(!t)return void console.error("\u4e0b\u8f7d\u7ec4\u4ef6\u7f3a\u5c11\u53c2\u6570chartIns");var i=document.createElement("canvas");i.height=t.get("canvas")._cfg.el.height,i.width=t.get("canvas")._cfg.el.width;var s=i.getContext("2d");s.fillStyle=r||"#fff",s.fillRect(0,0,i.width,i.height),s.drawImage(t.get("canvas")._cfg.el,0,0);var l=i.toDataURL(n||"image/jpeg"),c=document.createElement("a");c.setAttribute("href",l),c.setAttribute("download",a),c.click()},i=a,r(o,i)}return o(t,e),l(t,[{key:"render",value:function(){return s.a.createElement("span",{onClick:this.handleClick},this.props.children)}}]),t}(i.Component);t.a=c},1188:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=a(0),s=a.n(i),l=a(394),c=(a.n(l),a(395)),u=(a.n(c),a(1149)),p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),p(t,[{key:"onFirstLoad",value:function(e){this.props.onFirstLoad&&this.props.onFirstLoad(e)}},{key:"onClickAction",value:function(e){this.props.onClickAction&&this.props.onClickAction(e)}},{key:"render",value:function(){var e=this,t=this.props.height||350,a=this.props.data,n=new c.DataSet,r=n.createView().source(a),o=[],i=void 0;if(!a||!a[0])return s.a.createElement(u.a,{height:t,data:"nodata"});i=Object.keys(a[0])[0],Object.keys(a[0]).forEach(function(e,t){0!==t&&o.push(e)}),r.source(a).transform({type:"fold",fields:o.length>0?o:["null"],key:"type",value:"value"});var p=this.props.scales||{value:{min:0}};return s.a.createElement(l.Chart,{height:t,data:r,scale:p,padding:this.props.padding||[30,20,60,50],forceFit:!0,onGetG2Instance:function(t){return e.onFirstLoad(t)}},this.props.noLegend?null:s.a.createElement(l.Legend,{marker:"circle"}),s.a.createElement(l.Axis,{name:i}),s.a.createElement(l.Axis,{name:"value"}),s.a.createElement(l.Tooltip,{crosshairs:{type:"y"}}),s.a.createElement(l.Geom,{type:"line",position:i+"*value",color:["type",this.props.colors],tooltip:this.props.geomTooltip}),s.a.createElement(l.Geom,{type:this.props.geomType||"point",position:i+"*value",shape:"circle",color:["type",this.props.colors]}),this.props.children)}}]),t}(i.Component);t.a=h},1203:function(e,t,a){var n=a(1204);"string"===typeof n&&(n=[[e.i,n,""]]);var r={hmr:!1};r.transform=void 0;a(1140)(n,r);n.locals&&(e.exports=n.locals)},1204:function(e,t,a){t=e.exports=a(1139)(!0),t.push([e.i,".filter-jingzhun{background-color:hsla(0,0%,100%,.6)}.modal-jz-title{text-align:center;font-size:16px;color:#333}.modal-jz-item{display:-ms-flexbox;display:flex;margin-bottom:10px}.modal-jz-item .tag{-ms-flex:0 0 80px;flex:0 0 80px}.modal-jz-item .text{-ms-flex:1 1;flex:1 1}.filter-text{top:50px;left:25px}.filter-text,.filter-text-sp{font-size:12px;color:rgba(0,0,0,.45);font-weight:400;position:absolute}.filter-text-sp{top:20px;left:0}.filter-height{line-height:60px;background:hsla(0,0%,100%,.6)}.filter-title{margin-left:25px}.ant-select{margin-right:10px}.jzzz-top{line-height:60px}.pkdetail .value{margin-left:10px}.pkdetail .section,.pkdetail .topSearch{margin-top:20px}.pkdetail .ant-card{-webkit-box-shadow:0 0 10px 0 rgba(0,0,0,.05);box-shadow:0 0 10px 0 rgba(0,0,0,.05);border-radius:4px}","",{version:3,sources:["D:/\u4e09\u76df\u79d1\u6280\u9879\u76ee\u4ee3\u7801/BigData.DNDX.Front/src/pages/jinzhunzizhu/index.less"],names:[],mappings:"AAAA,iBACE,mCAA2C,CAC5C,AACD,gBACE,kBAAmB,AACnB,eAAgB,AAChB,UAAY,CACb,AACD,eACE,oBAAqB,AACrB,aAAc,AACd,kBAAoB,CACrB,AACD,oBACE,kBAAmB,AACf,aAAe,CACpB,AACD,qBACE,aAAc,AACV,QAAU,CACf,AACD,aAKE,SAAU,AACV,SAAW,CACZ,AACD,6BAPE,eAAgB,AAChB,sBAA2B,AAC3B,gBAAiB,AACjB,iBAAmB,CAWpB,AAPD,gBAKE,SAAU,AACV,MAAQ,CACT,AACD,eACE,iBAAkB,AAClB,6BAAqC,CACtC,AACD,cACE,gBAAkB,CACnB,AACD,YACE,iBAAmB,CACpB,AACD,UACE,gBAAkB,CACnB,AACD,iBACE,gBAAkB,CACnB,AAID,wCACE,eAAiB,CAClB,AACD,oBACE,8CAAmD,AAC3C,sCAA2C,AACnD,iBAAmB,CACpB",file:"index.less",sourcesContent:[".filter-jingzhun {\n  background-color: rgba(255, 255, 255, 0.6);\n}\n.modal-jz-title {\n  text-align: center;\n  font-size: 16px;\n  color: #333;\n}\n.modal-jz-item {\n  display: -ms-flexbox;\n  display: flex;\n  margin-bottom: 10px;\n}\n.modal-jz-item .tag {\n  -ms-flex: 0 0 80px;\n      flex: 0 0 80px;\n}\n.modal-jz-item .text {\n  -ms-flex: 1 1;\n      flex: 1 1;\n}\n.filter-text {\n  font-size: 12px;\n  color: rgba(0, 0, 0, 0.45);\n  font-weight: 400;\n  position: absolute;\n  top: 50px;\n  left: 25px;\n}\n.filter-text-sp {\n  font-size: 12px;\n  color: rgba(0, 0, 0, 0.45);\n  font-weight: 400;\n  position: absolute;\n  top: 20px;\n  left: 0;\n}\n.filter-height {\n  line-height: 60px;\n  background: rgba(255, 255, 255, 0.6);\n}\n.filter-title {\n  margin-left: 25px;\n}\n.ant-select {\n  margin-right: 10px;\n}\n.jzzz-top {\n  line-height: 60px;\n}\n.pkdetail .value {\n  margin-left: 10px;\n}\n.pkdetail .topSearch {\n  margin-top: 20px;\n}\n.pkdetail .section {\n  margin-top: 20px;\n}\n.pkdetail .ant-card {\n  -webkit-box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.05);\n          box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.05);\n  border-radius: 4px;\n}\n"],sourceRoot:""}])},1230:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=a(0),s=a.n(i),l=a(394),c=(a.n(l),a(395)),u=(a.n(c),a(1149)),p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),p(t,[{key:"onFirstLoad",value:function(e){this.props.onFirstLoad&&this.props.onFirstLoad(e)}},{key:"onClickAction",value:function(e){this.props.onClickAction&&this.props.onClickAction(e)}},{key:"render",value:function(){var e=this,t=this.props.height||350,a=this.props.data||[],n=this.props.isBase||!1,r=[],o=void 0;if(!a||!a[0])return s.a.createElement(u.a,{height:t,data:"nodata"});if(o=Object.keys(a[0])[0],Object.keys(a[0]).forEach(function(e,t){0!==t&&r.push(e)}),n)return s.a.createElement(l.Chart,{height:t,data:a,scale:this.props.scales,padding:this.props.padding,forceFit:!0,onGetG2Instance:function(t){return e.onFirstLoad(t)},onPlotClick:function(t){return e.onClickAction(t)}},this.props.transpose?s.a.createElement(l.Coord,{transpose:!0}):null,s.a.createElement(l.Axis,{name:o}),s.a.createElement(l.Axis,{name:r[0]}),this.props.noLegend?null:s.a.createElement(l.Legend,{marker:"circle"}),s.a.createElement(l.Tooltip,{crosshairs:{type:"y"}}),s.a.createElement(l.Geom,{type:this.props.geomType||"interval",position:o+"*"+r[0],size:this.props.geomSize,color:[o,this.props.colors],shape:this.props.shape,adjust:this.props.adjust,tooltip:this.props.geomTooltip}),this.props.children);var i=new c.DataSet,p=i.createView().source(a);return p.source(a).transform({type:"fold",fields:r.length>0?r:["null"],key:"type",value:"value"}),s.a.createElement(l.Chart,{height:t,data:p,scale:this.props.scales,padding:this.props.padding,forceFit:!0,onGetG2Instance:function(t){return e.onFirstLoad(t)},onPlotClick:function(t){return e.onClickAction(t)}},this.props.transpose?s.a.createElement(l.Coord,{transpose:!0}):null,s.a.createElement(l.Axis,{name:o}),s.a.createElement(l.Axis,{name:"value"}),this.props.noLegend?null:s.a.createElement(l.Legend,{marker:"circle"}),s.a.createElement(l.Tooltip,{crosshairs:{type:"y"}}),s.a.createElement(l.Geom,{type:this.props.geomType||"interval",position:o+"*value",size:this.props.geomSize,color:["type",this.props.colors],shape:this.props.shape,adjust:this.props.adjust||[{type:"dodge",marginRatio:1/32}],tooltip:this.props.geomTooltip}),this.props.children)}}]),t}(i.Component);l.Shape.registerShape("interval","triangle",{getPoints:function(e){var t=e.x,a=e.y,n=e.y0,r=e.size;return[{x:t-r/2,y:n},{x:t,y:a},{x:t+r/2,y:n}]},draw:function(e,t){var a=this.parsePoints(e.points);return t.addShape("polygon",{attrs:{points:[[a[0].x,a[0].y],[a[1].x,a[1].y],[a[2].x,a[2].y]],fill:e.color}})}}),t.a=h},1983:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),s=a.n(i),l=a(393),c=a(1984),u=a(1986),p=a(1987),h=a(1989),f=(a.n(h),a(1203)),d=(a.n(f),a(1991)),m=a(1992),g=a(1994),y=a(1995),b=a(1997),v=a(1998),E=a(2e3),x=a(2002),w=a(2003),C=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),A=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={filterValue:{},filterName:{}},a.getFilterValueAndName=a.getFilterValueAndName.bind(a),a}return o(t,e),C(t,[{key:"getFilterValueAndName",value:function(e,t){this.setState({filterValue:e,filterName:t})}},{key:"render",value:function(){var e=this.state,t=e.filterName,a=e.filterValue;return s.a.createElement("div",null,s.a.createElement(d.a,{getFilterValueAndName:this.getFilterValueAndName.bind(this)}),s.a.createElement("div",{className:"pinkunshengfenxi",style:{marginTop:20}},s.a.createElement(l.x,null,s.a.createElement(l.h,{span:12,style:{paddingRight:10}},s.a.createElement(c.a,{filterName:t,filterValue:a,height:300})),s.a.createElement(l.h,{span:12,style:{paddingLeft:10}},s.a.createElement(u.a,{filterName:t,filterValue:a,height:300}))),s.a.createElement(l.x,{gutter:20,style:{marginTop:20}},s.a.createElement(l.h,{span:12},s.a.createElement(m.a,{filterName:t,filterValue:a,height:350})),s.a.createElement(l.h,{span:12},s.a.createElement(g.a,{filterName:t,filterValue:a,height:350}))),s.a.createElement(l.x,null,s.a.createElement(l.h,{span:24,style:{marginTop:20}},s.a.createElement(p.a,{height:350,filterName:t,filterValue:a}))),s.a.createElement(l.x,{gutter:20,style:{marginTop:20}},s.a.createElement(l.h,{span:12},s.a.createElement(y.a,{filterName:t,filterValue:a,height:400})),s.a.createElement(l.h,{span:12},s.a.createElement(b.a,{filterName:t,filterValue:a,height:400}))),s.a.createElement(l.x,{style:{marginTop:20}},s.a.createElement(l.h,{span:24},s.a.createElement(v.a,{filterName:t,filterValue:a,height:400}))),s.a.createElement(l.x,{gutter:20,style:{marginTop:20}},s.a.createElement(l.h,{span:12},s.a.createElement(E.a,{filterName:t,filterValue:a,height:400})),s.a.createElement(l.h,{span:12},s.a.createElement(x.a,{filterName:t,filterValue:a,height:400}))),s.a.createElement(l.x,{style:{marginTop:20}},s.a.createElement(l.h,{span:24},s.a.createElement(w.a,{filterName:t,filterValue:a,height:350})))))}}]),t}(s.a.Component);t.default=A},1984:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=a(0),s=a.n(i),l=a(9),c=a.n(l),u=a(1985),p=a(1147),h=a(1152),f=a(393),d=a(1153),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=[{title:"\u5e8f\u53f7",dataIndex:"sortIndex",width:"10%"},{title:"\u7c7b\u578b",dataIndex:"type",render:function(e){return s.a.createElement("span",{title:e},e)}},{title:"\u4eba\u6570",dataIndex:"number"}],y=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.changeTab=function(e){a.setState({tab:e.target.value},function(){if(a.refs.table){c.a.findDOMNode(a.refs.table).querySelector("table").setAttribute("id","student-xls")}})},a.state={tab:"1",chartIns:void 0,chartData:[],tableData:[],total:0,pagination:{pageSize:5,showQuickJumper:!0,total:null,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"}}},a}return o(t,e),m(t,[{key:"getData",value:function(){var e=this;Object(p.a)("/bigdata/povertyAnalyze/povertyAnalyzeByGroup").then(function(t){if(t.success){var a=[],n=[];t.obj.forEach(function(e,t){a.push({label:e.type,"\u4eba\u6570":e.total}),n.push({key:t+1,sortIndex:t+1,type:e.type,number:e.total})}),e.setState({chartData:a,tableData:n,pagination:{pageSize:5,showQuickJumper:!0,total:n.length,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"}}})}else e.setState({chartData:[],tableData:[],pagination:{pageSize:5,showQuickJumper:!0,total:null,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"}}})})}},{key:"getDetail",value:function(){window.location.href=d.a+"/bigdata/povertyAnalyze/exportPovertyAnalyzeByGroup"}},{key:"render",value:function(){var e=this;return s.a.createElement(h.a,{title:s.a.createElement("div",{className:"common-title"},"\u5bb6\u5ead\u7ecf\u6d4e\u56f0\u96be\u5b66\u751f\u5206\u6790",s.a.createElement("span",null,"\uff08\u5355\u4f4d\uff1a\u4eba\uff09"),s.a.createElement("div",{className:"filter-text",style:{top:20,left:0}},"\u5f53\u524d\u5b66\u5e74\uff08\u4e0d\u53d7\u7b5b\u9009\u6761\u4ef6\u63a7\u5236\uff09")),tab:this.state.tab,changeTab:this.changeTab,detailCallback:this.getDetail.bind(this),downloadChart:{chartIns:this.state.chartIns,title:"\u5bb6\u5ead\u7ecf\u6d4e\u56f0\u96be\u5b66\u751f\u5206\u6790"},tableToExcel:{table:"student-xls",filename:"\u5bb6\u5ead\u7ecf\u6d4e\u56f0\u96be\u5b66\u751f\u5206\u6790excel\u4e0b\u8f7d"}},"1"===this.state.tab?s.a.createElement(u.a,{data:this.state.chartData,transpose:!0,noLegend:!0,geomSize:30,padding:[0,40,30,160],height:this.props.height-70,onFirstLoad:function(t){e.setState({chartIns:t})},colors:["#3aa1ff","#5ddfcf","#4ecb73","#fbd437","#eaa674","#8a7bd4","#975fe5","#749fea","#36cbcb","#74b1ea","#5254cf","#435188"]}):s.a.createElement(s.a.Fragment,null,s.a.createElement(f.B,{dataSource:this.state.tableData,columns:g,bordered:!0,size:"small",style:{height:225},pagination:this.state.pagination}),s.a.createElement(f.B,{ref:"table",columns:g,dataSource:this.state.tableData,pagination:!1,style:{display:"none"}})))}},{key:"componentDidMount",value:function(){this.getData()}},{key:"componentWillReceiveProps",value:function(e){var t=this;JSON.stringify(e)!==JSON.stringify(this.props)&&setTimeout(function(){t.getData()},50)}}]),t}(s.a.Component);t.a=y},1985:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=a(0),s=a.n(i),l=a(394),c=(a.n(l),a(395)),u=(a.n(c),a(1149)),p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),p(t,[{key:"onFirstLoad",value:function(e){this.props.onFirstLoad&&this.props.onFirstLoad(e)}},{key:"onClickAction",value:function(e){this.props.onClickAction&&this.props.onClickAction(e)}},{key:"render",value:function(){var e=this,t=this.props.height||350,a=this.props.data||[],n=this.props.isBase||!1,r=[],o=void 0;if(!a||!a[0])return s.a.createElement(u.a,{height:t,data:"nodata"});if(o=Object.keys(a[0])[0],Object.keys(a[0]).forEach(function(e,t){0!==t&&r.push(e)}),n)return s.a.createElement(l.Chart,{height:t,data:a,scale:this.props.scales,padding:this.props.padding,forceFit:!0,onGetG2Instance:function(t){return e.onFirstLoad(t)},onPlotClick:function(t){return e.onClickAction(t)}},this.props.transpose?s.a.createElement(l.Coord,{transpose:!0}):null,s.a.createElement(l.Axis,{name:o}),s.a.createElement(l.Axis,{name:r[0]}),this.props.noLegend?null:s.a.createElement(l.Legend,{marker:"circle"}),s.a.createElement(l.Tooltip,{crosshairs:{type:"y"}}),s.a.createElement(l.Geom,{type:this.props.geomType||"interval",position:o+"*"+r[0],size:this.props.geomSize,color:[o,this.props.colors],shape:this.props.shape,adjust:this.props.adjust,tooltip:this.props.geomTooltip}),this.props.children);var i=new c.DataSet,p=i.createView().source(a);return p.source(a).transform({type:"fold",fields:r.length>0?r:["null"],key:"type",value:"value"}),s.a.createElement(l.Chart,{height:t,data:p,scale:this.props.scales,padding:this.props.padding,forceFit:!0,onGetG2Instance:function(t){return e.onFirstLoad(t)},onPlotClick:function(t){return e.onClickAction(t)}},this.props.transpose?s.a.createElement(l.Coord,{transpose:!0}):null,s.a.createElement(l.Axis,{name:o}),s.a.createElement(l.Axis,{name:"value"}),this.props.noLegend?null:s.a.createElement(l.Legend,{marker:"circle"}),s.a.createElement(l.Tooltip,{crosshairs:{type:"y"}}),s.a.createElement(l.Geom,{type:this.props.geomType||"interval",position:o+"*value",size:this.props.geomSize,color:["label",this.props.colors],shape:this.props.shape,adjust:this.props.adjust||[{type:"dodge",marginRatio:1/32}],tooltip:this.props.geomTooltip}),this.props.children)}}]),t}(i.Component);l.Shape.registerShape("interval","triangle",{getPoints:function(e){var t=e.x,a=e.y,n=e.y0,r=e.size;return[{x:t-r/2,y:n},{x:t,y:a},{x:t+r/2,y:n}]},draw:function(e,t){var a=this.parsePoints(e.points);return t.addShape("polygon",{attrs:{points:[[a[0].x,a[0].y],[a[1].x,a[1].y],[a[2].x,a[2].y]],fill:e.color}})}}),t.a=h},1986:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=a(0),s=a.n(i),l=a(393),c=a(1147),u=a(1166),p=a(1152),h=a(9),f=a.n(h),d=a(1153),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=[{title:"\u5e8f\u53f7",dataIndex:"sortIndex",width:"10%"},{title:"\u4e0d\u540c\u7ea7\u522b",dataIndex:"item",render:function(e){return s.a.createElement("span",{title:e},e)}},{title:"\u4eba\u6570",dataIndex:"count"}],y=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.changeTab=function(e){a.setState({tab:e.target.value},function(){if(a.refs.table){f.a.findDOMNode(a.refs.table).querySelector("table").setAttribute("id","different-xls")}})},a.state={tab:"1",chartIns:void 0,pieData:[],tableData:[],pagination:{pageSize:5,showQuickJumper:!0,total:null,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"}}},a}return o(t,e),m(t,[{key:"getPovertyLevel",value:function(){var e=this,t=this.props.filterValue,a=t.curYear,n=t.curCollege,r=t.curMajor,o=t.curGrade,i=t.curshengyuan;Object(c.b)("/bigdata/povertyAnalyze/povertyLevelNum",{schoolYear:a,collegeCode:n,majorCode:r,grade:o,bornSource:i}).then(function(t){if(t.success&&t.obj.length>0){var a=[],n=[];t.obj.forEach(function(e,t){a.push({item:e.analyzeGroup,count:e.analyzeValue}),n.push({key:t+1,sortIndex:t+1,item:e.analyzeGroup,count:e.analyzeValue})}),e.setState({pieData:a,tableData:n,pagination:{pageSize:5,showQuickJumper:!0,total:n.length,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"}}})}else e.setState({chartData:[],tableData:[],pagination:{pageSize:5,showQuickJumper:!0,total:null,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"}}})})}},{key:"getDetail",value:function(){var e=this.props.filterValue,t=e.curYear,a=e.curCollege,n=e.curMajor,r=e.curGrade,o=e.curshengyuan;window.location.href=d.a+"/bigdata/povertyAnalyze/exportPovertyLevelNum?schoolYear="+t+"&collegeCode="+a+"&majorCode="+n+"&grade="+r+"&bornSource="+o}},{key:"render",value:function(){var e=this,t=s.a.createElement("div",{className:"filter-text",style:{top:20,left:0}},this.props.filterName.curYearName?this.props.filterName.curYearName.substring(0,this.props.filterName.curYearName.length-1)+"\u5b66\u5e74-"+(Number(this.props.filterName.curYearName.substring(0,this.props.filterName.curYearName.length-1))+1)+"\u5b66\u5e74":"",s.a.createElement(l.j,{type:"vertical"}),this.props.filterName.curCollegeName,s.a.createElement(l.j,{type:"vertical"}),this.props.filterName.curMajorName,s.a.createElement(l.j,{type:"vertical"}),this.props.filterName.curGradeName,s.a.createElement(l.j,{type:"vertical"}),this.props.filterName.curshengyuanName);return s.a.createElement(p.a,{className:"main-card",title:s.a.createElement("div",{className:"common-title"},"\u4e0d\u540c\u7ea7\u522b\u4eba\u6570",s.a.createElement("span",null,"\uff08\u5355\u4f4d\uff1a\u4eba\uff09"),t),tab:this.state.tab,changeTab:this.changeTab,detailCallback:this.getDetail.bind(this),downloadChart:{chartIns:this.state.chartIns,title:"\u4e0d\u540c\u7ea7\u522b\u4eba\u6570"},tableToExcel:{table:"different-xls",filename:"\u4e0d\u540c\u7ea7\u522b\u4eba\u6570excel\u4e0b\u8f7d"}},"1"===this.state.tab?s.a.createElement(u.a,{height:this.props.height-70,data:this.state.pieData,padding:[10,30,40,60],onFirstLoad:function(t){e.setState({chartIns:t})}}):s.a.createElement(s.a.Fragment,null,s.a.createElement(l.B,{dataSource:this.state.tableData,columns:g,bordered:!0,size:"small",style:{height:225},pagination:this.state.pagination}),s.a.createElement(l.B,{ref:"table",columns:g,dataSource:this.state.tableData,pagination:!1,style:{display:"none"}})))}},{key:"componentDidMount",value:function(){this.getPovertyLevel()}},{key:"componentWillReceiveProps",value:function(e){var t=this;JSON.stringify(e)!==JSON.stringify(this.props)&&setTimeout(function(){t.getPovertyLevel()},50)}}]),t}(s.a.Component);t.a=y},1987:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=a(0),s=a.n(i),l=a(393),c=a(9),u=a.n(c),p=a(1152),h=a(1988),f=a(1147),d=a(1153),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=[{title:"\u5e8f\u53f7",dataIndex:"sortIndex",width:"6%"},{title:"\u5b66\u9662",dataIndex:"college",render:function(e){return s.a.createElement("span",{title:e},e)}},{title:"\u91d1\u989d\u8fbe\u6807\u7387\u4e00\u7ea7",dataIndex:"moneylvOne"},{title:"\u91d1\u989d\u8fbe\u6807\u7387\u4e8c\u7ea7",dataIndex:"moneylvTwo"},{title:"\u91d1\u989d\u8fbe\u6807\u7387\u4e09\u7ea7",dataIndex:"moneylvThree"},{title:"\u4eba\u6570\u8fbe\u6807\u7387\u4e00\u7ea7",dataIndex:"peopleNumOne"},{title:"\u4eba\u6570\u8fbe\u6807\u7387\u4e8c\u7ea7",dataIndex:"peopleNumTwo"},{title:"\u4eba\u6570\u8fbe\u6807\u7387\u4e09\u7ea7",dataIndex:"peopleNumThree"}],y=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.changeTab=function(e){a.setState({tab:e.target.value},function(){if(a.refs.table){u.a.findDOMNode(a.refs.table).querySelector("table").setAttribute("id","zizhu-xls")}})},a.state={tab:"1",chartIns:void 0,total:0,barData:[],tableData:[],pagination:{showQuickJumper:!0,total:null,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"}}},a}return o(t,e),m(t,[{key:"getData",value:function(){var e=this,t=this.props.filterValue.curYear;Object(f.b)("/bigdata/povertyAnalyze/collegeSubsidizePercent",{schoolYear:t}).then(function(t){if(t.success){var a={},n=[],r={"\u91d1\u989d\u8fbe\u6807\u7387\u4e00\u7ea7":0,"\u91d1\u989d\u8fbe\u6807\u7387\u4e8c\u7ea7":0,"\u91d1\u989d\u8fbe\u6807\u7387\u4e09\u7ea7":0,"\u4eba\u6570\u8fbe\u6807\u7387\u4e00\u7ea7":0,"\u4eba\u6570\u8fbe\u6807\u7387\u4e8c\u7ea7":0,"\u4eba\u6570\u8fbe\u6807\u7387\u4e09\u7ea7":0};if(t.obj&&t.obj.length>0){t.obj.forEach(function(e){a[e.collegeName]?"\u4e00\u7ea7"===e.povertyLevel?a[e.collegeName]=Object.assign({},r,a[e.collegeName],{"\u91d1\u989d\u8fbe\u6807\u7387\u4e00\u7ea7":e.moneyPercent||0,"\u4eba\u6570\u8fbe\u6807\u7387\u4e00\u7ea7":e.numPercent||0}):"\u4e8c\u7ea7"===e.povertyLevel?a[e.collegeName]=Object.assign({},r,a[e.collegeName],{"\u91d1\u989d\u8fbe\u6807\u7387\u4e8c\u7ea7":e.moneyPercent||0,"\u4eba\u6570\u8fbe\u6807\u7387\u4e8c\u7ea7":e.numPercent||0}):"\u4e09\u7ea7"===e.povertyLevel&&(a[e.collegeName]=Object.assign({},r,a[e.collegeName],{"\u91d1\u989d\u8fbe\u6807\u7387\u4e09\u7ea7":e.moneyPercent||0,"\u4eba\u6570\u8fbe\u6807\u7387\u4e09\u7ea7":e.numPercent||0})):"\u4e00\u7ea7"===e.povertyLevel?a[e.collegeName]=Object.assign({},r,{"\u91d1\u989d\u8fbe\u6807\u7387\u4e00\u7ea7":e.moneyPercent||0,"\u4eba\u6570\u8fbe\u6807\u7387\u4e00\u7ea7":e.numPercent||0}):"\u4e8c\u7ea7"===e.povertyLevel?a[e.collegeName]=Object.assign({},r,{"\u91d1\u989d\u8fbe\u6807\u7387\u4e8c\u7ea7":e.moneyPercent||0,"\u4eba\u6570\u8fbe\u6807\u7387\u4e8c\u7ea7":e.numPercent||0}):"\u4e09\u7ea7"===e.povertyLevel&&(a[e.collegeName]=Object.assign({},r,{"\u91d1\u989d\u8fbe\u6807\u7387\u4e09\u7ea7":e.moneyPercent||0,"\u4eba\u6570\u8fbe\u6807\u7387\u4e09\u7ea7":e.numPercent||0}))}),Object.keys(a).forEach(function(e){var t=Object.assign({State:e},a[e]);n.push(t)});var o=[];n&&n.length>0&&n.forEach(function(e,t){o.push({key:t+1,sortIndex:t+1,college:e.State,moneylvOne:e.\u91d1\u989d\u8fbe\u6807\u7387\u4e00\u7ea7+"%",moneylvTwo:e.\u91d1\u989d\u8fbe\u6807\u7387\u4e8c\u7ea7+"%",moneylvThree:e.\u91d1\u989d\u8fbe\u6807\u7387\u4e09\u7ea7+"%",peopleNumOne:e.\u4eba\u6570\u8fbe\u6807\u7387\u4e00\u7ea7+"%",peopleNumTwo:e.\u4eba\u6570\u8fbe\u6807\u7387\u4e8c\u7ea7+"%",peopleNumThree:e.\u4eba\u6570\u8fbe\u6807\u7387\u4e09\u7ea7+"%"})}),e.setState({barData:n,tableData:o,pagination:{pageSize:5,showQuickJumper:!0,total:o.length,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"}}})}else e.setState({barData:[],tableData:[],pagination:{pageSize:5,showQuickJumper:!0,total:null,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"}}})}})}},{key:"getDetail",value:function(){var e=this.props.filterValue.curYear;window.location.href=d.a+"/bigdata/povertyAnalyze/exportCollegesubSidizePercent?schoolYear="+e}},{key:"componentDidMount",value:function(){this.getData()}},{key:"componentWillReceiveProps",value:function(e){var t=this;JSON.stringify(e)!==JSON.stringify(this.props)&&setTimeout(function(){t.getData()},50)}},{key:"render",value:function(){var e=this;return s.a.createElement(p.a,{className:"main-card",title:s.a.createElement("div",{className:"common-title"},"\u5404\u5b66\u9662\u8d44\u52a9\u8fbe\u6807\u7387\u5206\u5e03",s.a.createElement("span",null,"(\u5355\u4f4d\uff1a%)"),s.a.createElement("div",{className:"filter-text-sp"},this.props.filterName.curYearName?this.props.filterName.curYearName.substring(0,this.props.filterName.curYearName.length-1)+"\u5b66\u5e74-"+(Number(this.props.filterName.curYearName.substring(0,this.props.filterName.curYearName.length-1))+1)+"\u5b66\u5e74":"")),tab:this.state.tab,changeTab:this.changeTab,downloadChart:{chartIns:this.state.chartIns,title:"\u5404\u5b66\u9662\u8d44\u52a9\u8fbe\u6807\u7387\u5206\u5e03"},tableToExcel:{table:"zizhu-xls",filename:"\u5404\u5b66\u9662\u8d44\u52a9\u8fbe\u6807\u7387\u5206\u5e03excel\u4e0b\u8f7d"},detailCallback:this.getDetail.bind(this)},"1"===this.state.tab?s.a.createElement(h.a,{geomType:"intervalStack",data:this.state.barData,height:this.props.height-80,onFirstLoad:function(t){e.setState({chartIns:t})}}):s.a.createElement(s.a.Fragment,null,s.a.createElement(l.B,{dataSource:this.state.tableData,columns:g,bordered:!0,size:"middle",pagination:this.state.pagination}),s.a.createElement(l.B,{ref:"table",columns:g,dataSource:this.state.tableData,pagination:!1,style:{display:"none"}})))}}]),t}(s.a.Component);t.a=y},1988:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=a(0),s=a.n(i),l=a(394),c=(a.n(l),a(395)),u=(a.n(c),a(1172)),p=a.n(u),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=void 0,d=0,m=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),h(t,[{key:"onFirstLoad",value:function(e){this.props.onFirstLoad&&this.props.onFirstLoad(e)}},{key:"componentWillReceiveProps",value:function(e){var t=e.data;t&&t[0]&&(d=Math.round(t.length/2),setTimeout(function(){f.setState("start",0),f.setState("end",d)}))}},{key:"render",value:function(){var e=this,t=["\u91d1\u989d\u8fbe\u6807\u7387\u4e00\u7ea7","\u91d1\u989d\u8fbe\u6807\u7387\u4e8c\u7ea7","\u91d1\u989d\u8fbe\u6807\u7387\u4e09\u7ea7","\u4eba\u6570\u8fbe\u6807\u7387\u4e00\u7ea7","\u4eba\u6570\u8fbe\u6807\u7387\u4e8c\u7ea7","\u4eba\u6570\u8fbe\u6807\u7387\u4e09\u7ea7"],a=this.props.data;f=new c.DataSet({state:{start:0,end:a.length-1}});var n=f.createView().source(a);n.source(a).transform({type:"fold",fields:t,key:"age",value:"population",retains:["State"]}).transform({type:"filter",callback:function(t){var a=t.State,n=void 0;return e.props.data.forEach(function(e,t){e.State===a&&(n=t)}),n<=f.state.end&&n>=f.state.start}}).transform({type:"map",callback:function(e){var t=e.age,a=void 0;return"\u91d1\u989d\u8fbe\u6807\u7387\u4e00\u7ea7"===t||"\u91d1\u989d\u8fbe\u6807\u7387\u4e8c\u7ea7"===t||"\u91d1\u989d\u8fbe\u6807\u7387\u4e09\u7ea7"===t?a="a":"\u4eba\u6570\u8fbe\u6807\u7387\u4e00\u7ea7"!==t&&"\u4eba\u6570\u8fbe\u6807\u7387\u4e8c\u7ea7"!==t&&"\u4eba\u6570\u8fbe\u6807\u7387\u4e09\u7ea7"!==t||(a="b"),e.type=a,e}});var r={"\u91d1\u989d\u8fbe\u6807\u7387\u4e00\u7ea7":"#1890FF","\u91d1\u989d\u8fbe\u6807\u7387\u4e8c\u7ea7":"#13C2C2","\u91d1\u989d\u8fbe\u6807\u7387\u4e09\u7ea7":"#2FC25B","\u4eba\u6570\u8fbe\u6807\u7387\u4e00\u7ea7":"#3436C7","\u4eba\u6570\u8fbe\u6807\u7387\u4e8c\u7ea7":"#8543E0","\u4eba\u6570\u8fbe\u6807\u7387\u4e09\u7ea7":"#223273"},o={population:{tickInterval:25}};return s.a.createElement(s.a.Fragment,null,s.a.createElement(l.Chart,{height:this.props.height,data:n,scale:o,padding:[10,40,60,40],onGetG2Instance:function(t){return e.onFirstLoad(t)},forceFit:!0},s.a.createElement(l.Axis,{name:"population",label:{formatter:function(e){return e}}}),s.a.createElement(l.Legend,{position:"bottom"}),s.a.createElement(l.Tooltip,null),s.a.createElement(l.Geom,{type:"interval",position:"State*population",color:["age",function(e){return r[e]}],tooltip:["age*population",function(e,t){return{name:e,value:t+"%"}}],adjust:[{type:"dodge",dodgeBy:"type",marginRatio:0},{type:"stack"}]})),s.a.createElement(p.a,{width:"auto",height:26,start:0,end:d,xAxis:"State",yAxis:"population",onChange:function(t){var a=t.startValue,n=t.endValue,r=void 0,o=void 0;e.props.data.forEach(function(e,t){e.State===a&&(r=t),e.State===n&&(o=t)}),f.setState("start",r),f.setState("end",o)},data:n}))}}]),t}(i.Component);t.a=m},1989:function(e,t,a){var n=a(1990);"string"===typeof n&&(n=[[e.i,n,""]]);var r={hmr:!1};r.transform=void 0;a(1140)(n,r);n.locals&&(e.exports=n.locals)},1990:function(e,t,a){t=e.exports=a(1139)(!0),t.push([e.i,".pinkunshengfenxi .section{margin-top:20px}.pinkunshengfenxi .ant-card{-webkit-box-shadow:0 0 10px 0 rgba(0,0,0,.05);box-shadow:0 0 10px 0 rgba(0,0,0,.05);border-radius:4px}","",{version:3,sources:["D:/\u4e09\u76df\u79d1\u6280\u9879\u76ee\u4ee3\u7801/BigData.DNDX.Front/src/pages/jinzhunzizhu/pinkunshengfenxi/style.less"],names:[],mappings:"AAAA,2BACE,eAAiB,CAClB,AACD,4BACE,8CAAmD,AAC3C,sCAA2C,AACnD,iBAAmB,CACpB",file:"style.less",sourcesContent:[".pinkunshengfenxi .section {\n  margin-top: 20px;\n}\n.pinkunshengfenxi .ant-card {\n  -webkit-box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.05);\n          box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.05);\n  border-radius: 4px;\n}\n"],sourceRoot:""}])},1991:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=a(0),s=a.n(i),l=a(393),c=a(1147),u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),p=l.y.Option,h=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={curYear:2018,curYearName:"2018\u5e74",yearLists:[{name:"2018\u5e74",value:2018},{name:"2017\u5e74",value:2017},{name:"2016\u5e74",value:2016},{name:"2015\u5e74",value:2015},{name:"2014\u5e74",value:2014}],curCollege:"",curCollegeName:"\u5168\u90e8\u5b66\u9662",collegeLists:[],curMajor:"",curMajorName:"\u5168\u90e8\u4e13\u4e1a",majorLists:[{majorCode:"",majorName:"\u5168\u90e8\u4e13\u4e1a"}],curGrade:"",curGradeName:"\u5168\u90e8\u5e74\u7ea7",gradeLists:[{value:"\u5168\u90e8\u5e74\u7ea7",name:""}],curClass:"",curClassName:"\u5168\u90e8\u73ed\u7ea7",classLists:[{classCode:"",className:"\u5168\u90e8\u73ed\u7ea7"}],curshengyuan:"",curshengyuanName:"\u5168\u90e8\u751f\u6e90\u5730",shengyuanLists:[{shengyuanCode:"",shengyuanName:"\u5168\u90e8\u751f\u6e90\u5730"}],curSemester:"",curSemesterName:"\u5168\u90e8\u5b66\u671f",semesterLists:[{name:"\u5168\u90e8\u5b66\u671f",value:""},{name:"\u4e0a\u5b66\u671f",value:"1"},{name:"\u4e0b\u5b66\u671f",value:"2"}]},a.changeFilter=a.changeFilter.bind(a),a.getColledgeLists=a.getColledgeLists.bind(a),a.getMajorLists=a.getMajorLists.bind(a),a.getGradeLists=a.getGradeLists.bind(a),a.getClassLists=a.getClassLists.bind(a),a.sureBtn=a.sureBtn.bind(a),a}return o(t,e),u(t,[{key:"sureBtn",value:function(){var e={curYear:this.state.curYear,curCollege:this.state.curCollege,curMajor:this.state.curMajor,curGrade:this.state.curGrade,curClass:this.state.curClass,curSemester:this.state.curSemester,curshengyuan:this.state.curshengyuan},t={curYearName:this.state.curYearName,curCollegeName:this.state.curCollegeName,curMajorName:this.state.curMajorName,curGradeName:this.state.curGradeName,curClassName:this.state.curClassName,curSemesterName:this.state.curSemesterName,curshengyuanName:this.state.curshengyuanName};this.props.getFilterValueAndName(e,t)}},{key:"getClassLists",value:function(){var e=this;Object(c.b)("/bigdata/school/listClassByMajor",{year:this.state.curGrade,majorCode:this.state.curMajor}).then(function(t){t.success&&e.setState({curClass:"",classLists:t.obj,curClassName:"\u5168\u90e8\u73ed\u7ea7"})})}},{key:"getGradeLists",value:function(){var e=this;Object(c.b)("/bigdata/school/getGradeList",{year:this.state.curYear,collegeCode:this.state.curCollege,majorCode:this.state.curMajor}).then(function(t){t.success&&e.setState({curGrade:"",gradeLists:t.obj,curGradeName:"\u5168\u90e8\u5e74\u7ea7"})})}},{key:"getMajorLists",value:function(){var e=this;Object(c.b)("/bigdata/school/listMajorByCollege",{collegeCode:this.state.curCollege}).then(function(t){t.success&&e.setState({curMajor:"",majorLists:t.obj,curMajorName:"\u5168\u90e8\u4e13\u4e1a"})})}},{key:"getColledgeLists",value:function(){var e=this;Object(c.b)("/bigdata/school/listCollege").then(function(t){t.success&&e.setState({curCollege:"",collegeLists:t.obj,curCollegeName:"\u5168\u90e8\u5b66\u9662"})})}},{key:"getsenyuanLists",value:function(){var e=this;Object(c.b)("/bigdata/subsidizeUtil/getBornSource",{schoolYear:this.state.curYear}).then(function(t){t.success&&e.setState({curshengyuan:"",shengyuanLists:t.obj,curshengyuanName:"\u5168\u90e8\u751f\u6e90\u5730"})})}},{key:"changeFilter",value:function(e,t,a){var n=this;0===e?this.setState({curYear:t,curYearName:a.props.children},function(){n.getGradeLists(),n.getClassLists(),n.getsenyuanLists()}):1===e?this.setState({curCollege:t,curCollegeName:a.props.children},function(){n.getMajorLists(),n.getGradeLists(),n.getClassLists()}):2===e?this.setState({curMajor:t,curMajorName:a.props.children},function(){n.getGradeLists(),n.getClassLists()}):3===e?this.setState({curGrade:t,curGradeName:a.props.children},function(){n.getClassLists()}):4===e?this.setState({curClass:t,curClassName:a.props.children}):5===e?this.setState({curSemester:t,curSemesterName:a.props.children}):6===e&&this.setState({curshengyuan:t,curshengyuanName:a.props.children})}},{key:"render",value:function(){return s.a.createElement("div",{style:{backgroundColor:"rgba(255,255,255,.6)",margin:"-20px -20px 0 -20px",lineHeight:"60px"}},s.a.createElement("span",{className:"filter-title"},"\u9009\u62e9\u6761\u4ef6\uff1a"),s.a.createElement(l.y,{value:this.state.curYear,onChange:this.changeFilter.bind(this,0)},this.state.yearLists.map(function(e,t){return s.a.createElement(p,{key:t,value:e.value},e.name)})),s.a.createElement(l.y,{value:this.state.curCollege,placeholder:"\u8bf7\u9009\u62e9\u5b66\u9662",style:{width:180},onChange:this.changeFilter.bind(this,1)},this.state.collegeLists.map(function(e,t){return s.a.createElement(p,{key:t,title:e.collegeName,value:e.collegeCode},e.collegeName)})),s.a.createElement(l.y,{value:this.state.curMajor,placeholder:"\u8bf7\u9009\u62e9\u4e13\u4e1a",style:{width:150},onChange:this.changeFilter.bind(this,2)},this.state.majorLists.map(function(e,t){return s.a.createElement(p,{key:t,title:e.majorName,value:e.majorCode},e.majorName)})),s.a.createElement(l.y,{value:this.state.curGrade,placeholder:"\u8bf7\u9009\u62e9\u5e74\u7ea7",style:{width:120},onChange:this.changeFilter.bind(this,3)},this.state.gradeLists.map(function(e,t){return s.a.createElement(p,{key:t,title:e.value,value:e.name},e.value)})),s.a.createElement(l.y,{value:this.state.curshengyuan,placeholder:"\u8bf7\u9009\u62e9\u751f\u6e90\u5730",style:{width:120},onChange:this.changeFilter.bind(this,6)},this.state.shengyuanLists.map(function(e,t){return s.a.createElement(p,{key:t,title:e.name,value:e.code},e.name)})),s.a.createElement(l.d,{type:"primary",icon:"search",onClick:this.sureBtn},"\u641c  \u7d22 "))}},{key:"componentDidMount",value:function(){this.getColledgeLists(),this.getGradeLists(),this.getsenyuanLists(),this.sureBtn()}}]),t}(i.Component);t.a=h},1992:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=a(0),s=a.n(i),l=a(393),c=a(1993),u=a(1147),p=a(1152),h=a(9),f=a.n(h),d=a(1153),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=[{title:"\u5e8f\u53f7",dataIndex:"sortIndex",width:"10%"},{title:"\u4e0d\u540c\u7ea7\u522b",dataIndex:"item",render:function(e){return s.a.createElement("span",{title:e},e)}},{title:"\u4eba\u5747\u503c",dataIndex:"count"}],y=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.changeTab=function(e){a.setState({tab:e.target.value},function(){if(a.refs.table){f.a.findDOMNode(a.refs.table).querySelector("table").setAttribute("id","capita-xls")}})},a.state={tab:"1",chartIns:void 0,barData:[],tableData:[],pagination:{pageSize:5,showQuickJumper:!0,total:null,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"}}},a.getBarData=a.getBarData.bind(a),a}return o(t,e),m(t,[{key:"getBarData",value:function(){var e=this,t=this.props.filterValue,a=t.curYear,n=t.curCollege,r=t.curMajor,o=t.curGrade,i=t.curshengyuan;Object(u.b)("/bigdata/povertyAnalyze/povertyLevelSubsidizeAvg",{schoolYear:a,collegeCode:n,majorCode:r,grade:o,bornSource:i}).then(function(t){if(t.success){var a=[],n=[];t.obj.forEach(function(e,t){a.push({label:e.analyzeGroup,"\u91d1\u989d":Number(e.analyzeValue)}),n.push({key:t+1,sortIndex:t+1,item:e.analyzeGroup,count:e.analyzeValue})}),e.setState({barData:a,tableData:n,pagination:{pageSize:5,showQuickJumper:!0,total:n.length,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"}}})}else e.setState({barData:[],tableData:[],pagination:{pageSize:5,showQuickJumper:!0,total:null,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"}}})})}},{key:"getDetail",value:function(){var e=this.props.filterValue,t=e.curYear,a=e.curCollege,n=e.curMajor,r=e.curGrade,o=e.curshengyuan;window.location.href=d.a+"/bigdata/povertyAnalyze/exportPovertyLevelSubsidizeAvg?schoolYear="+t+"&collegeCode="+a+"&majorCode="+n+"&grade="+r+"&bornSource="+o}},{key:"render",value:function(){var e=this;return s.a.createElement(p.a,{className:"main-card",title:s.a.createElement("div",{className:"common-title"},"\u4e0d\u540c\u7ea7\u522b\u4eba\u5747\u503c",s.a.createElement("span",null,"\uff08\u5355\u4f4d\uff1a\u5143\uff09"),s.a.createElement("div",{className:"filter-text",style:{top:20,left:0}},this.props.filterName.curYearName?this.props.filterName.curYearName.substring(0,this.props.filterName.curYearName.length-1)+"\u5b66\u5e74-"+(Number(this.props.filterName.curYearName.substring(0,this.props.filterName.curYearName.length-1))+1)+"\u5b66\u5e74":"",s.a.createElement(l.j,{type:"vertical"}),this.props.filterName.curCollegeName,s.a.createElement(l.j,{type:"vertical"}),this.props.filterName.curMajorName,s.a.createElement(l.j,{type:"vertical"}),this.props.filterName.curGradeName,s.a.createElement(l.j,{type:"vertical"}),this.props.filterName.curshengyuanName)),tab:this.state.tab,changeTab:this.changeTab,detailCallback:this.getDetail.bind(this),downloadChart:{chartIns:this.state.chartIns,title:"\u4e0d\u540c\u7ea7\u522b\u4eba\u5747\u503c"},tableToExcel:{table:"capita-xls",filename:"\u4e0d\u540c\u7ea7\u522b\u4eba\u5747\u503cexcel\u4e0b\u8f7d"}},"1"===this.state.tab?s.a.createElement(c.a,{data:this.state.barData,noLegend:!0,geomSize:50,colors:["#3aa1ff","#5ddfcf","#4ecb73","#fbd437","#eaa674","#8a7bd4","#975fe5","#749fea","#36cbcb","#74b1ea","#5254cf","#435188"],height:this.props.height-80,padding:[10,40,40,80],onFirstLoad:function(t){e.setState({chartIns:t})}}):s.a.createElement(s.a.Fragment,null,s.a.createElement(l.B,{dataSource:this.state.tableData,columns:g,bordered:!0,size:"small",style:{height:225},pagination:this.state.pagination}),s.a.createElement(l.B,{ref:"table",columns:g,dataSource:this.state.tableData,pagination:!1,style:{display:"none"}})))}},{key:"componentWillReceiveProps",value:function(e){var t=this;JSON.stringify(e)!==JSON.stringify(this.props)&&setTimeout(function(){t.getBarData()},50)}}]),t}(s.a.Component);t.a=y},1993:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=a(0),s=a.n(i),l=a(394),c=(a.n(l),a(395)),u=(a.n(c),a(1149)),p=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),h=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),p(t,[{key:"onFirstLoad",value:function(e){this.props.onFirstLoad&&this.props.onFirstLoad(e)}},{key:"onClickAction",value:function(e){this.props.onClickAction&&this.props.onClickAction(e)}},{key:"render",value:function(){var e=this,t=this.props.height||350,a=this.props.data||[],n=this.props.isBase||!1,r=[],o=void 0;if(!a||!a[0])return s.a.createElement(u.a,{height:t,data:"nodata"});if(o=Object.keys(a[0])[0],Object.keys(a[0]).forEach(function(e,t){0!==t&&r.push(e)}),n)return s.a.createElement(l.Chart,{height:t,data:a,scale:this.props.scales,padding:this.props.padding,forceFit:!0,onGetG2Instance:function(t){return e.onFirstLoad(t)},onPlotClick:function(t){return e.onClickAction(t)}},this.props.transpose?s.a.createElement(l.Coord,{transpose:!0}):null,s.a.createElement(l.Axis,{name:o}),s.a.createElement(l.Axis,{name:r[0]}),this.props.noLegend?null:s.a.createElement(l.Legend,{marker:"circle"}),s.a.createElement(l.Tooltip,{crosshairs:{type:"y"}}),s.a.createElement(l.Geom,{type:this.props.geomType||"interval",position:o+"*"+r[0],size:this.props.geomSize,color:[o,this.props.colors],shape:this.props.shape,adjust:this.props.adjust,tooltip:this.props.geomTooltip}),this.props.children);var i=new c.DataSet,p=i.createView().source(a);return p.source(a).transform({type:"fold",fields:r.length>0?r:["null"],key:"type",value:"value"}),s.a.createElement(l.Chart,{height:t,data:p,scale:this.props.scales,padding:this.props.padding,forceFit:!0,onGetG2Instance:function(t){return e.onFirstLoad(t)},onPlotClick:function(t){return e.onClickAction(t)}},this.props.transpose?s.a.createElement(l.Coord,{transpose:!0}):null,s.a.createElement(l.Axis,{name:o}),s.a.createElement(l.Axis,{name:"value"}),this.props.noLegend?null:s.a.createElement(l.Legend,{marker:"circle"}),s.a.createElement(l.Tooltip,{crosshairs:{type:"y"}}),s.a.createElement(l.Geom,{type:this.props.geomType||"interval",position:o+"*value",size:this.props.geomSize,color:["label",this.props.colors],shape:this.props.shape,adjust:this.props.adjust||[{type:"dodge",marginRatio:1/32}],tooltip:this.props.geomTooltip}),this.props.children)}}]),t}(i.Component);l.Shape.registerShape("interval","triangle",{getPoints:function(e){var t=e.x,a=e.y,n=e.y0,r=e.size;return[{x:t-r/2,y:n},{x:t,y:a},{x:t+r/2,y:n}]},draw:function(e,t){var a=this.parsePoints(e.points);return t.addShape("polygon",{attrs:{points:[[a[0].x,a[0].y],[a[1].x,a[1].y],[a[2].x,a[2].y]],fill:e.color}})}}),t.a=h},1994:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=a(0),s=a.n(i),l=a(393),c=a(1147),u=a(1230),p=a(1152),h=a(9),f=a.n(h),d=a(1153),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=[{title:"\u5e8f\u53f7",dataIndex:"sortIndex",width:"10%"},{title:"\u4e0d\u540c\u7ea7\u522b",dataIndex:"item",render:function(e){return s.a.createElement("span",{title:e},e)}},{title:"\u91d1\u989d(%)",dataIndex:"money"},{title:"\u4eba\u6570(%)",dataIndex:"count"}],y=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.changeTab=function(e){a.setState({tab:e.target.value},function(){if(a.refs.table){f.a.findDOMNode(a.refs.table).querySelector("table").setAttribute("id","money-xls")}})},a.state={tab:"1",chartIns:void 0,data:[],tableData:[],pagination:{pageSize:5,showQuickJumper:!0,total:null,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"}}},a.getData=a.getData.bind(a),a}return o(t,e),m(t,[{key:"getData",value:function(){var e=this,t=this.props.filterValue,a=t.curYear,n=t.curCollege,r=t.curMajor,o=t.curGrade,i=t.curshengyuan;Object(c.b)("/bigdata/povertyAnalyze/subsidizePercent",{schoolYear:a,collegeCode:n,majorCode:r,grade:o,bornSource:i}).then(function(t){if(t.success){var a=[],n=[];t.obj.forEach(function(e,t){a.push({label:e.analyzeGroup,"\u91d1\u989d":Number(e.moneyPercent),"\u4eba\u6570":Number(e.numPercent)}),n.push({key:t+1,sortIndex:t+1,item:e.analyzeGroup,money:e.moneyPercent,count:e.numPercent})}),e.setState({data:a,tableData:n,pagination:{pageSize:5,showQuickJumper:!0,total:n.length,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"}}})}else e.setState({data:[],tableData:[],pagination:{pageSize:5,showQuickJumper:!0,total:null,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"}}})})}},{key:"getDetail",value:function(){var e=this.props.filterValue,t=e.curYear,a=e.curCollege,n=e.curMajor,r=e.curGrade,o=e.curshengyuan;window.location.href=d.a+"/bigdata/povertyAnalyze/exportSubsidizePercent?schoolYear="+t+"&collegeCode="+a+"&majorCode="+n+"&grade="+r+"&bornSource="+o}},{key:"render",value:function(){var e=this;return s.a.createElement(p.a,{className:"main-card",title:s.a.createElement("div",{className:"common-title"},"\u8d44\u52a9\u8fbe\u6807\u7387",s.a.createElement("span",null,"\uff08\u5355\u4f4d\uff1a%\uff09"),s.a.createElement("div",{className:"filter-text",style:{top:20,left:0}},this.props.filterName.curYearName?this.props.filterName.curYearName.substring(0,this.props.filterName.curYearName.length-1)+"\u5b66\u5e74-"+(Number(this.props.filterName.curYearName.substring(0,this.props.filterName.curYearName.length-1))+1)+"\u5b66\u5e74":"",s.a.createElement(l.j,{type:"vertical"}),this.props.filterName.curCollegeName,s.a.createElement(l.j,{type:"vertical"}),this.props.filterName.curMajorName,s.a.createElement(l.j,{type:"vertical"}),this.props.filterName.curGradeName,s.a.createElement(l.j,{type:"vertical"}),this.props.filterName.curshengyuanName)),tab:this.state.tab,changeTab:this.changeTab,detailCallback:this.getDetail.bind(this),downloadChart:{chartIns:this.state.chartIns,title:"\u8d44\u52a9\u8fbe\u6807\u7387"},tableToExcel:{table:"money-xls",filename:"\u8d44\u52a9\u8fbe\u6807\u7387excel\u4e0b\u8f7d"}},"1"===this.state.tab?s.a.createElement(u.a,{data:this.state.data,transpose:!0,height:this.props.height-80,padding:[10,40,60,80],colors:["#1890ff","#5ddfcf"],geomTooltip:["type*value",function(e,t){return{name:e,value:t+"%"}}],onFirstLoad:function(t){e.setState({chartIns:t})}}):s.a.createElement(s.a.Fragment,null,s.a.createElement(l.B,{dataSource:this.state.tableData,columns:g,bordered:!0,size:"small",style:{height:225},pagination:this.state.pagination}),s.a.createElement(l.B,{ref:"table",columns:g,dataSource:this.state.tableData,pagination:!1,style:{display:"none"}})))}},{key:"componentWillReceiveProps",value:function(e){var t=this;JSON.stringify(e)!==JSON.stringify(this.props)&&setTimeout(function(){t.getData()},50)}}]),t}(s.a.Component);t.a=y},1995:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=a(0),s=a.n(i),l=a(393),c=a(1996),u=a(1147),p=a(1152),h=a(1153),f=a(9),d=a.n(f),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=[{title:"\u5e8f\u53f7",dataIndex:"sortIndex",width:"10%"},{title:"\u5b66\u671f",dataIndex:"item",render:function(e){return s.a.createElement("span",{title:e},e)}},{title:"\u5b66\u9738",dataIndex:"xueba"},{title:"\u5b66\u4f18",dataIndex:"xueyou"},{title:"\u5b66\u4e2d",dataIndex:"xuezhong"},{title:"\u5b66\u826f",dataIndex:"xueliang"},{title:"\u5b66\u5dee",dataIndex:"xuecha"}],y=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.changeTab=function(e){a.setState({tab:e.target.value},function(){if(a.refs.table){d.a.findDOMNode(a.refs.table).querySelector("table").setAttribute("id","study-xls")}})},a.state={tab:"1",chartIns:void 0,pieData:[],tableData:[],pagination:{pageSize:5,showQuickJumper:!0,total:null,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"}}},a.getPieData=a.getPieData.bind(a),a}return o(t,e),m(t,[{key:"getPieData",value:function(){var e=this,t=this.props.filterValue,a=t.curYear,n=t.curCollege,r=t.curMajor,o=t.curGrade,i=t.curshengyuan;Object(u.b)("/bigdata/povertyAnalyze/povertyStudentStudy",{schoolYear:a,collegeCode:n,majorCode:r,grade:o,bornSource:i}).then(function(t){if(t.success){var a=[],n=[];t.obj.forEach(function(e,t){a.push({name:e.semester,"\u5b66\u9738":e.xueba,"\u5b66\u4f18":e.xueyou,"\u5b66\u4e2d":e.xuezhong,"\u5b66\u826f":e.xueliang,"\u5b66\u5dee":e.xuecha}),n.push({key:t+1,sortIndex:t+1,item:e.semester,xueba:e.xueba,xueyou:e.xueyou,xuezhong:e.xuezhong,xueliang:e.xueliang,xuecha:e.xuecha})}),e.setState({pieData:a,tableData:n,pagination:{pageSize:5,showQuickJumper:!0,total:n.length,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"}}})}else e.setState({pieData:[],tableData:[],pagination:{pageSize:5,showQuickJumper:!0,total:null,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"}}})})}},{key:"getDetail",value:function(){var e=this.props.filterValue,t=e.curYear,a=e.curCollege,n=e.curMajor,r=e.curGrade,o=e.curshengyuan;window.location.href=h.a+"/bigdata/povertyAnalyze/exportPovertyStudentStudy?schoolYear="+t+"&collegeCode="+a+"&majorCode="+n+"&grade="+r+"&bornSource="+o}},{key:"render",value:function(){var e=this;return s.a.createElement(p.a,{className:"main-card",title:s.a.createElement("div",{className:"common-title"},"\u5bb6\u5ead\u7ecf\u6d4e\u56f0\u96be\u5b66\u751f\u5b66\u4e60\u60c5\u51b5",s.a.createElement("span",null,"\uff08\u5355\u4f4d\uff1a\u4eba\uff09"),s.a.createElement("div",{className:"filter-text",style:{left:0,top:18}},this.props.filterName.curYearName?this.props.filterName.curYearName.substring(0,this.props.filterName.curYearName.length-1)+"\u5b66\u5e74-"+(Number(this.props.filterName.curYearName.substring(0,this.props.filterName.curYearName.length-1))+1)+"\u5b66\u5e74":"",s.a.createElement(l.j,{type:"vertical"}),this.props.filterName.curCollegeName,s.a.createElement(l.j,{type:"vertical"}),this.props.filterName.curMajorName,s.a.createElement(l.j,{type:"vertical"}),this.props.filterName.curGradeName,s.a.createElement(l.j,{type:"vertical"}),this.props.filterName.curshengyuanName)),tab:this.state.tab,changeTab:this.changeTab,detailCallback:this.getDetail.bind(this),downloadChart:{chartIns:this.state.chartIns,title:"\u5bb6\u5ead\u7ecf\u6d4e\u56f0\u96be\u5b66\u751f\u5b66\u4e60\u60c5\u51b5"},tableToExcel:{table:"study-xls",filename:"\u5bb6\u5ead\u7ecf\u6d4e\u56f0\u96be\u5b66\u751f\u5b66\u4e60\u60c5\u51b5excel\u4e0b\u8f7d"}},"1"===this.state.tab?s.a.createElement(c.a,{data:this.state.pieData,height:this.props.height-80,padding:[0,20,40,20],colors:["#3aa1ff","#5ddfcf","#4ecb73"],onFirstLoad:function(t){e.setState({chartIns:t})}}):s.a.createElement(s.a.Fragment,null,s.a.createElement(l.B,{dataSource:this.state.tableData,columns:g,bordered:!0,size:"small",style:{height:320},pagination:this.state.pagination}),s.a.createElement(l.B,{ref:"table",columns:g,dataSource:this.state.tableData,pagination:!1,style:{display:"none"}})))}},{key:"componentDidMount",value:function(){this.getPieData()}},{key:"componentWillReceiveProps",value:function(e){var t=this;JSON.stringify(e)!==JSON.stringify(this.props)&&setTimeout(function(){t.getPieData()},50)}}]),t}(s.a.Component);t.a=y},1996:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=a(0),s=a.n(i),l=a(394),c=(a.n(l),a(395)),u=a.n(c),p=a(1149),h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),h(t,[{key:"onFirstLoad",value:function(e){this.props.onFirstLoad&&this.props.onFirstLoad(e)}},{key:"render",value:function(){var e=this,t=this.props.height||350,a=new u.a,n=a.createView().source(this.props.data);return n.transform({type:"fold",fields:["\u5b66\u9738","\u5b66\u4f18","\u5b66\u826f","\u5b66\u4e2d","\u5b66\u5dee"],key:"\u6bb5\u4f4d",value:"\u5e73\u5747\u6210\u7ee9"}),s.a.createElement("div",null,this.props.data&&this.props.data.length>0?s.a.createElement(l.Chart,{height:this.props.height,data:n,forceFit:!0,onGetG2Instance:function(t){return e.onFirstLoad(t)}},s.a.createElement(l.Axis,{name:"\u6bb5\u4f4d"}),s.a.createElement(l.Axis,{name:"\u5e73\u5747\u6210\u7ee9"}),s.a.createElement(l.Legend,null),s.a.createElement(l.Tooltip,{crosshairs:{type:"y"}}),s.a.createElement(l.Geom,{type:"interval",position:"\u6bb5\u4f4d*\u5e73\u5747\u6210\u7ee9",color:"name",adjust:[{type:"dodge",marginRatio:1/32}]})):s.a.createElement(p.a,{data:"nodata",height:t}))}}]),t}(s.a.Component);t.a=f},1997:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=a(0),s=a.n(i),l=a(393),c=a(9),u=a.n(c),p=a(1152),h=a(1166),f=a(1147),d=a(1153),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=[{title:"\u5e8f\u53f7",dataIndex:"sortIndex",width:"10%"},{title:"\u5730\u70b9",dataIndex:"address",render:function(e){return s.a.createElement("span",{title:e},e)}},{title:"\u4eba\u6570",dataIndex:"num"}],y=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.changeTab=function(e){a.setState({tab:e.target.value},function(){if(a.refs.table){u.a.findDOMNode(a.refs.table).querySelector("table").setAttribute("id","top5-xls")}})},a.state={tab:"1",chartIns:void 0,newPieData:[],tableData:[],total:0,pagination:{showQuickJumper:!0,total:null,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"}}},a.getData=a.getData.bind(a),a}return o(t,e),m(t,[{key:"getData",value:function(){var e=this,t=this.props.filterValue,a=t.curYear,n=t.curCollege,r=t.curMajor,o=t.curGrade,i=t.curshengyuan;Object(f.b)("/bigdata/povertyAnalyze/povertyStudentEmployment",{schoolYear:a,collegeCode:n,majorCode:r,grade:o,bornSource:i}).then(function(t){if(t.success){var a=[],n=[];t.obj&&t.obj.forEach(function(e,t){a.push({item:e.cityName,count:Number(e.peopleNum)}),n.push({key:t+1,sortIndex:t+1,address:e.cityName,num:e.peopleNum})}),e.setState({newPieData:a,tableData:n,pagination:{showQuickJumper:!0,total:n.length,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"}}})}else e.setState({newPieData:[],tableData:[]})})}},{key:"getDetail",value:function(){var e=this.props.filterValue,t=e.curYear,a=e.curCollege,n=e.curMajor,r=e.curGrade,o=e.curshengyuan;window.location.href=d.a+"/bigdata/povertyAnalyze/exportPovertyStudentEmployment?schoolYear="+t+"&collegeCode="+a+"&majorCode="+n+"&grade="+r+"&bornSource="+o}},{key:"render",value:function(){var e=this;return s.a.createElement(p.a,{title:s.a.createElement("div",{className:"common-title"},"\u5bb6\u5ead\u7ecf\u6d4e\u56f0\u96be\u5b66\u751f\u5c31\u4e1a\u53bb\u5411TOP5",s.a.createElement("span",null,"\uff08\u5355\u4f4d\uff1a\u4eba\uff09"),s.a.createElement("div",{className:"filter-text",style:{left:0,top:18}},this.props.filterName.curYearName?this.props.filterName.curYearName.substring(0,this.props.filterName.curYearName.length-1)+"\u5b66\u5e74-"+(Number(this.props.filterName.curYearName.substring(0,this.props.filterName.curYearName.length-1))+1)+"\u5b66\u5e74":"",s.a.createElement(l.j,{type:"vertical"}),this.props.filterName.curCollegeName,s.a.createElement(l.j,{type:"vertical"}),this.props.filterName.curMajorName,s.a.createElement(l.j,{type:"vertical"}),this.props.filterName.curGradeName,s.a.createElement(l.j,{type:"vertical"}),this.props.filterName.curshengyuanName)),tab:this.state.tab,changeTab:this.changeTab,detailCallback:this.getDetail.bind(this),downloadChart:{chartIns:this.state.chartIns,title:"\u5bb6\u5ead\u7ecf\u6d4e\u56f0\u96be\u5b66\u751f\u5c31\u4e1a\u53bb\u5411TOP5"},tableToExcel:{table:"top5-xls",filename:"\u5bb6\u5ead\u7ecf\u6d4e\u56f0\u96be\u5b66\u751f\u5c31\u4e1a\u53bb\u5411TOP5excel\u4e0b\u8f7d"}},"1"===this.state.tab?s.a.createElement(h.a,{data:this.state.newPieData,innerRadius:.55,height:this.props.height-80,padding:[0,20,40,20],onFirstLoad:function(t){e.setState({chartIns:t})},colors:["#3aa1ff","#5ddfcf","#4ecb73","#fbd437","#eaa674","#8a7bd4","#975fe5","#749fea","#36cbcb","#74b1ea","#5254cf","#435188"]}):s.a.createElement(s.a.Fragment,null,s.a.createElement(l.B,{dataSource:this.state.tableData,columns:g,bordered:!0,size:"small"}),s.a.createElement(l.B,{ref:"table",columns:g,dataSource:this.state.tableData,pagination:!1,style:{display:"none"}})))}},{key:"componentDidMount",value:function(){this.getData()}},{key:"componentWillReceiveProps",value:function(e){var t=this;JSON.stringify(e)!==JSON.stringify(this.props)&&setTimeout(function(){t.getData()},50)}}]),t}(s.a.Component);t.a=y},1998:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=a(0),s=a.n(i),l=a(9),c=a.n(l),u=a(393),p=a(1152),h=a(1147),f=a(1999),d=a(1153),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=[{title:"\u5e8f\u53f7",dataIndex:"sortIndex",width:"10%"},{title:"\u5b66\u9662",dataIndex:"type",render:function(e){return s.a.createElement("span",{title:e},e)}},{title:"\u4e00\u7ea7",dataIndex:"one"},{title:"\u4e8c\u7ea7",dataIndex:"two"},{title:"\u4e09\u7ea7",dataIndex:"three"}],y=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.changeTab=function(e){a.setState({tab:e.target.value},function(){if(a.refs.table){c.a.findDOMNode(a.refs.table).querySelector("table").setAttribute("id","student-xls")}})},a.state={barData:[],tab:"1",chartIns:void 0,tableData:[],total:0,pagination:{showQuickJumper:!0,total:null,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"}}},a.getData=a.getData.bind(a),a}return o(t,e),m(t,[{key:"getData",value:function(){var e=this,t=this.props.filterValue.curYear;Object(h.b)("/bigdata/povertyAnalyze/povertyStudentCollege",{schoolYear:t}).then(function(t){if(t.success){var a=[],n=[];t.obj.forEach(function(e,t){a.push({name:e.name,"\u4e00\u7ea7":e.oneLevel,"\u4e8c\u7ea7":e.twoLevel,"\u4e09\u7ea7":e.threeLevel,total:e.total||0}),n.push({key:t+1,sortIndex:t+1,type:e.name,one:e.oneLevel,two:e.twoLevel,three:e.threeLevel})}),e.setState({barData:a,tableData:n})}else e.setState({barData:[],tableData:[]})})}},{key:"getDetail",value:function(){var e=this.props.filterValue,t=e.curYear,a=e.curCollege,n=e.curMajor,r=e.curGrade,o=e.curshengyuan;window.location.href=d.a+"/bigdata/povertyAnalyze/exportPovertyCollegeDetail?schoolYear="+t+"&collegeCode="+a+"&majorCode="+n+"&grade="+r+"&bornSource="+o}},{key:"render",value:function(){var e=this;return s.a.createElement(p.a,{title:s.a.createElement("div",{className:"common-title"},"\u5404\u5b66\u9662\u5bb6\u5ead\u7ecf\u6d4e\u56f0\u96be\u5b66\u751f\u5206\u5e03",s.a.createElement("span",null,"\uff08\u5355\u4f4d\uff1a\u4eba\uff09"),s.a.createElement("div",{className:"filter-text-sp"},this.props.filterName.curYearName?this.props.filterName.curYearName.substring(0,this.props.filterName.curYearName.length-1)+"\u5b66\u5e74-"+(Number(this.props.filterName.curYearName.substring(0,this.props.filterName.curYearName.length-1))+1)+"\u5b66\u5e74":"")),tab:this.state.tab,changeTab:this.changeTab,detailCallback:this.getDetail.bind(this),downloadChart:{chartIns:this.state.chartIns,title:"\u5404\u5b66\u9662\u5bb6\u5ead\u7ecf\u6d4e\u56f0\u96be\u5b66\u751f\u5206\u5e03"},tableToExcel:{table:"student-xls",filename:"\u5404\u5b66\u9662\u5bb6\u5ead\u7ecf\u6d4e\u56f0\u96be\u5b66\u751f\u5206\u5e03excel\u4e0b\u8f7d"}},"1"===this.state.tab?s.a.createElement(f.a,{data:this.state.barData,geomType:"intervalStack",height:this.props.height-80,padding:[10,40,30,50],onFirstLoad:function(t){e.setState({chartIns:t})},colors:["#3aa1ff","#5ddfcf","#4ecb73","#fbd437","#eaa674","#8a7bd4","#975fe5","#749fea","#36cbcb","#74b1ea","#5254cf","#435188"]}):s.a.createElement(s.a.Fragment,null,s.a.createElement(u.B,{dataSource:this.state.tableData,columns:g,bordered:!0,size:"middle"}),s.a.createElement(u.B,{ref:"table",columns:g,dataSource:this.state.tableData,pagination:!1,style:{display:"none"}})))}},{key:"componentWillReceiveProps",value:function(e){var t=this;JSON.stringify(e)!==JSON.stringify(this.props)&&setTimeout(function(){t.getData()},50)}}]),t}(s.a.Component);t.a=y},1999:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=a(0),s=a.n(i),l=a(394),c=(a.n(l),a(395)),u=(a.n(c),a(1149)),p=a(1172),h=a.n(p),f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=void 0,m=0,g=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),f(t,[{key:"onFirstLoad",value:function(e){this.props.onFirstLoad&&this.props.onFirstLoad(e)}},{key:"componentWillReceiveProps",value:function(e){var t=e.data;t&&t[0]&&(m=Math.round(t.length/2),setTimeout(function(){d.setState("start",0),d.setState("end",m)}))}},{key:"render",value:function(){var e=this,t=this.props.height||350,a=[],n=this.props.data,r=void 0;if(n&&n[0]){r=Object.keys(n[0])[0],Object.keys(n[0]).forEach(function(e,t){0!==t&&"total"!==e&&a.push(e)}),d=new c.DataSet({state:{start:0,end:n.length-1}});var o=d.createView().source(n);return o.source(n).transform({type:"fold",fields:a,key:"type",value:"value"}).transform({type:"filter",callback:function(t){var a=t.name,n=void 0;return e.props.data.forEach(function(e,t){e.name===a&&(n=t)}),n<=d.state.end&&n>=d.state.start}}),s.a.createElement(s.a.Fragment,null,s.a.createElement(l.Chart,{height:t-32,data:o,scale:this.props.scales,padding:this.props.padding,forceFit:!0,onGetG2Instance:function(t){return e.onFirstLoad(t)}},this.props.transpose?s.a.createElement(l.Coord,{transpose:!0}):null,s.a.createElement(l.Axis,{name:r}),s.a.createElement(l.Axis,{name:"value"}),this.props.noLegend?null:s.a.createElement(l.Legend,{marker:"circle"}),s.a.createElement(l.Tooltip,{crosshairs:{type:"y"}}),s.a.createElement(l.Geom,{type:this.props.geomType||"interval",position:r+"*value",size:this.props.geomSize,color:["type",this.props.colors],shape:this.props.shape,adjust:this.props.adjust||[{type:"dodge",marginRatio:1/32}],tooltip:["name*type*value*total",function(e,t,a,n){return{title:"\u603b\u4eba\u6570: "+n,name:t,value:a}}]}),this.props.children),s.a.createElement(h.a,{width:"auto",height:26,start:0,end:m,xAxis:r,yAxis:"value",onChange:function(t){var a=t.startValue,n=t.endValue,r=void 0,o=void 0;e.props.data.forEach(function(e,t){e.name===a&&(r=t),e.name===n&&(o=t)}),d.setState("start",r),d.setState("end",o)},data:o}))}return s.a.createElement(u.a,{height:t,data:"nodata"})}}]),t}(i.Component);t.a=g},2e3:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=a(0),s=a.n(i),l=a(9),c=a.n(l),u=a(393),p=a(1152),h=a(1147),f=a(2001),d=a(1153),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=[{title:"\u5e8f\u53f7",dataIndex:"sortIndex",width:"10%"},{title:"\u751f\u6e90\u5730",dataIndex:"address",render:function(e){return s.a.createElement("span",{title:e},e)}},{title:"\u4e00\u7ea7",dataIndex:"one"},{title:"\u4e8c\u7ea7",dataIndex:"two"},{title:"\u4e09\u7ea7",dataIndex:"three"},{title:"\u603b\u6570",dataIndex:"total"}],y=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.changeTab=function(e){a.setState({tab:e.target.value},function(){if(a.refs.table){c.a.findDOMNode(a.refs.table).querySelector("table").setAttribute("id","shenyuan-xls")}})},a.state={tab:"1",chartIns:void 0,tableData:[],total:0,pagination:{pageSize:5,showQuickJumper:!0,total:null,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"}},datas:[]},a.getData=a.getData.bind(a),a}return o(t,e),m(t,[{key:"getData",value:function(){var e=this,t=this.props.filterValue,a=t.curYear,n=t.curCollege,r=t.curMajor,o=t.curGrade,i=t.curshengyuan;Object(h.b)("/bigdata/povertyAnalyze/povertyStudentSource",{schoolYear:a,collegeCode:n,majorCode:r,grade:o,bornSource:i}).then(function(t){if(t.success){var a=[],n=[];t.obj.forEach(function(e,t){a.push({name:e.bornSource,total:e.total,"\u4e00\u7ea7":e.oneLevel,"\u4e8c\u7ea7":e.twoLevel,"\u4e09\u7ea7":e.threeLevel}),n.push({key:t+1,sortIndex:t+1,address:e.bornSource,one:e.oneLevel,two:e.twoLevel,three:e.threeLevel,total:e.total})}),e.setState({datas:a,tableData:n,pagination:{pageSize:5,showQuickJumper:!0,total:n.length,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"}}})}else e.setState({datas:[],tableData:[]})})}},{key:"getDetail",value:function(){var e=this.props.filterValue,t=e.curYear,a=e.curCollege,n=e.curMajor,r=e.curGrade,o=e.curshengyuan;window.location.href=d.a+"/bigdata/povertyAnalyze/exportPovertyStudentSource?schoolYear="+t+"&collegeCode="+a+"&majorCode="+n+"&grade="+r+"&bornSource="+o}},{key:"render",value:function(){var e=this;return s.a.createElement(p.a,{title:s.a.createElement("div",{className:"common-title"},"\u5bb6\u5ead\u7ecf\u6d4e\u56f0\u96be\u5b66\u751f\u751f\u6e90\u5730\u5206\u5e03",s.a.createElement("span",null,"\uff08\u5355\u4f4d\uff1a\u4eba\uff09"),s.a.createElement("div",{className:"filter-text",style:{top:18,left:0}},this.props.filterName.curYearName?this.props.filterName.curYearName.substring(0,this.props.filterName.curYearName.length-1)+"\u5b66\u5e74-"+(Number(this.props.filterName.curYearName.substring(0,this.props.filterName.curYearName.length-1))+1)+"\u5b66\u5e74":"",s.a.createElement(u.j,{type:"vertical"}),this.props.filterName.curCollegeName,s.a.createElement(u.j,{type:"vertical"}),this.props.filterName.curMajorName,s.a.createElement(u.j,{type:"vertical"}),this.props.filterName.curGradeName,s.a.createElement(u.j,{type:"vertical"}),this.props.filterName.curshengyuanName)),tab:this.state.tab,changeTab:this.changeTab,detailCallback:this.getDetail.bind(this),downloadChart:{chartIns:this.state.chartIns,title:"\u5bb6\u5ead\u7ecf\u6d4e\u56f0\u96be\u5b66\u751f\u751f\u6e90\u5730\u5206\u5e03"},tableToExcel:{table:"shenyuan-xls",filename:"\u5bb6\u5ead\u7ecf\u6d4e\u56f0\u96be\u5b66\u751f\u751f\u6e90\u5730\u5206\u5e03excel\u4e0b\u8f7d"}},"1"===this.state.tab?s.a.createElement(f.a,{data:this.state.datas,height:this.props.height-85,geomType:"intervalStack",padding:[10,40,30,50],onFirstLoad:function(t){e.setState({chartIns:t})},colors:["#3aa1ff","#5ddfcf","#4ecb73","#fbd437","#eaa674","#8a7bd4","#975fe5","#749fea","#36cbcb","#74b1ea","#5254cf","#435188"]}):s.a.createElement(s.a.Fragment,null,s.a.createElement(u.B,{dataSource:this.state.tableData,columns:g,bordered:!0,size:"small",pagination:this.state.pagination}),s.a.createElement(u.B,{ref:"table",columns:g,dataSource:this.state.tableData,pagination:!1,style:{display:"none"}})))}},{key:"componentWillReceiveProps",value:function(e){var t=this;JSON.stringify(e)!==JSON.stringify(this.props)&&setTimeout(function(){t.getData()},50)}}]),t}(s.a.Component);t.a=y},2001:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=a(0),s=a.n(i),l=a(394),c=(a.n(l),a(395)),u=(a.n(c),a(1149)),p=a(1172),h=a.n(p),f=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=void 0,m=0,g=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),f(t,[{key:"onFirstLoad",value:function(e){this.props.onFirstLoad&&this.props.onFirstLoad(e)}},{key:"componentWillReceiveProps",value:function(e){var t=e.data;t&&t[0]&&(m=Math.round(t.length/2),setTimeout(function(){d.setState("start",0),d.setState("end",m)}))}},{key:"render",value:function(){var e=this,t=this.props.height||350,a=[],n=this.props.data,r=void 0;if(n&&n[0]){r=Object.keys(n[0])[0],Object.keys(n[0]).forEach(function(e,t){0!==t&&"total"!==e&&a.push(e)}),d=new c.DataSet({state:{start:0,end:n.length-1}});var o=d.createView().source(n);return o.source(n).transform({type:"fold",fields:a,key:"type",value:"value"}).transform({type:"filter",callback:function(t){var a=t.name,n=void 0;return e.props.data.forEach(function(e,t){e.name===a&&(n=t)}),n<=d.state.end&&n>=d.state.start}}),s.a.createElement(s.a.Fragment,null,s.a.createElement(l.Chart,{height:t-32,data:o,scale:this.props.scales,padding:this.props.padding,forceFit:!0,onGetG2Instance:function(t){return e.onFirstLoad(t)}},this.props.transpose?s.a.createElement(l.Coord,{transpose:!0}):null,s.a.createElement(l.Axis,{name:r}),s.a.createElement(l.Axis,{name:"value"}),this.props.noLegend?null:s.a.createElement(l.Legend,{marker:"circle"}),s.a.createElement(l.Tooltip,{crosshairs:{type:"y"}}),s.a.createElement(l.Geom,{type:this.props.geomType||"interval",position:r+"*value",size:this.props.geomSize,color:["type",this.props.colors],shape:this.props.shape,adjust:this.props.adjust||[{type:"dodge",marginRatio:1/32}],tooltip:["name*type*value*total",function(e,t,a,n){return{title:"\u603b\u4eba\u6570: "+n,name:t,value:a}}]}),this.props.children),s.a.createElement(h.a,{width:"auto",height:26,start:0,end:m,xAxis:r,yAxis:"value",onChange:function(t){var a=t.startValue,n=t.endValue,r=void 0,o=void 0;e.props.data.forEach(function(e,t){e.name===a&&(r=t),e.name===n&&(o=t)}),d.setState("start",r),d.setState("end",o)},data:o}))}return s.a.createElement(u.a,{height:t,data:"nodata"})}}]),t}(i.Component);t.a=g},2002:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=a(0),s=a.n(i),l=a(393),c=a(1166),u=a(1147),p=a(1152),h=a(9),f=a.n(h),d=a(1153),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=[{title:"\u5e8f\u53f7",dataIndex:"sortIndex",width:"10%"},{title:"\u6c11\u65cf",dataIndex:"item",render:function(e){return s.a.createElement("span",{title:e},e)}},{title:"\u4eba\u6570",dataIndex:"count"}],y=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.changeTab=function(e){a.setState({tab:e.target.value},function(){if(a.refs.table){f.a.findDOMNode(a.refs.table).querySelector("table").setAttribute("id","national-xls")}})},a.state={tab:"1",chartIns:void 0,pieData:[],tableData:[],pagination:{pageSize:5,showQuickJumper:!0,total:null,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"}}},a.getPieData=a.getPieData.bind(a),a}return o(t,e),m(t,[{key:"getPieData",value:function(){var e=this,t=this.props.filterValue,a=t.curYear,n=t.curCollege,r=t.curMajor,o=t.curGrade,i=t.curshengyuan;Object(u.b)("/bigdata/povertyAnalyze/povertyStudentNational",{schoolYear:a,collegeCode:n,majorCode:r,grade:o,bornSource:i}).then(function(t){if(t.success){var a=[],n=[];t.obj.forEach(function(e,t){a.push({item:e.nation,count:e.num}),n.push({key:t+1,sortIndex:t+1,item:e.nation,count:e.num})}),e.setState({pieData:a,tableData:n,pagination:{pageSize:5,showQuickJumper:!0,total:n.length,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"}}})}else e.setState({pieData:[],tableData:[],pagination:{pageSize:5,showQuickJumper:!0,total:null,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"}}})})}},{key:"getDetail",value:function(){var e=this.props.filterValue,t=e.curYear,a=e.curCollege,n=e.curMajor,r=e.curGrade,o=e.curshengyuan;window.location.href=d.a+"/bigdata/povertyAnalyze/exportPovertyStudentNational?schoolYear="+t+"&collegeCode="+a+"&majorCode="+n+"&grade="+r+"&bornSource="+o}},{key:"render",value:function(){var e=this;return s.a.createElement(p.a,{className:"main-card",title:s.a.createElement("div",{className:"common-title"},"\u5bb6\u5ead\u7ecf\u6d4e\u56f0\u96be\u5b66\u751f\u6c11\u65cf\u5206\u5e03TOP5",s.a.createElement("span",null,"\uff08\u5355\u4f4d\uff1a\u4eba\uff09"),s.a.createElement("div",{className:"filter-text",style:{top:20,left:0}},this.props.filterName.curYearName?this.props.filterName.curYearName.substring(0,this.props.filterName.curYearName.length-1)+"\u5b66\u5e74-"+(Number(this.props.filterName.curYearName.substring(0,this.props.filterName.curYearName.length-1))+1)+"\u5b66\u5e74":"",s.a.createElement(l.j,{type:"vertical"}),this.props.filterName.curCollegeName,s.a.createElement(l.j,{type:"vertical"}),this.props.filterName.curMajorName,s.a.createElement(l.j,{type:"vertical"}),this.props.filterName.curGradeName,s.a.createElement(l.j,{type:"vertical"}),this.props.filterName.curshengyuanName)),tab:this.state.tab,changeTab:this.changeTab,detailCallback:this.getDetail.bind(this),downloadChart:{chartIns:this.state.chartIns,title:"\u5bb6\u5ead\u7ecf\u6d4e\u56f0\u96be\u5b66\u751f\u6c11\u65cf\u5206\u5e03TOP5"},tableToExcel:{table:"national-xls",filename:"\u5bb6\u5ead\u7ecf\u6d4e\u56f0\u96be\u5b66\u751f\u6c11\u65cf\u5206\u5e03TOP5excel\u4e0b\u8f7d"}},"1"===this.state.tab?s.a.createElement(c.a,{data:this.state.pieData,innerRadius:.55,height:this.props.height-85,padding:[0,20,40,20],colors:["#3aa1ff","#5ddfcf","#4ecb73","#fbd437","#eaa674","#8a7bd4","#975fe5","#749fea","#36cbcb","#74b1ea","#5254cf","#435188"],onFirstLoad:function(t){e.setState({chartIns:t})}}):s.a.createElement(s.a.Fragment,null,s.a.createElement(l.B,{dataSource:this.state.tableData,columns:g,bordered:!0,size:"small",style:{height:225},pagination:this.state.pagination}),s.a.createElement(l.B,{ref:"table",columns:g,dataSource:this.state.tableData,pagination:!1,style:{display:"none"}})))}},{key:"componentWillReceiveProps",value:function(e){var t=this;JSON.stringify(e)!==JSON.stringify(this.props)&&setTimeout(function(){t.getPieData()},50)}}]),t}(s.a.Component);t.a=y},2003:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=a(0),s=a.n(i),l=a(393),c=a(1188),u=a(1147),p=a(1152),h=a(1153),f=a(9),d=a.n(f),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),g=[{title:"\u5e8f\u53f7",dataIndex:"sortIndex",width:"10%"},{title:"\u6708\u4efd",dataIndex:"month",width:"10%"},{title:"\u5bb6\u5ead\u7ecf\u6d4e\u56f0\u96be\u5b66\u751f\u4eba\u5747",dataIndex:"student"},{title:"\u975e\u5bb6\u5ead\u7ecf\u6d4e\u56f0\u96be\u5b66\u751f\u4eba\u5747",dataIndex:"noStudent"},{title:"\u5168\u6821\u5b66\u751f\u4eba\u5747",dataIndex:"allSchool"}],y=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.changeTab=function(e){a.setState({tab:e.target.value},function(){if(a.refs.table){d.a.findDOMNode(a.refs.table).querySelector("table").setAttribute("id","consumption-xls")}})},a.state={tab:"1",chartIns:void 0,lineData:[],tableData:[],pagination:{pageSize:5,showQuickJumper:!0,total:null,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"}}},a.getData=a.getData.bind(a),a}return o(t,e),m(t,[{key:"getData",value:function(){var e=this,t=this.props.filterValue,a=t.curYear,n=t.curCollege,r=t.curMajor,o=t.curGrade,i=t.curshengyuan;Object(u.b)("/bigdata/povertyAnalyze/consumeAvgContrast",{schoolYear:a,collegeCode:n,majorCode:r,grade:o,bornSource:i}).then(function(t){if(t.success){var a=[],n=[];t.obj.forEach(function(e,t){a.push({month:e.month+"\u6708","\u5bb6\u5ead\u7ecf\u6d4e\u56f0\u96be\u5b66\u751f\u4eba\u5747":e.povertyStu,"\u975e\u5bb6\u5ead\u7ecf\u6d4e\u56f0\u96be\u5b66\u751f\u4eba\u5747":e.nopovertyStu,"\u5b66\u751f\u4eba\u5747":e.allschoolStu}),n.push({key:t+1,sortIndex:t+1,month:e.month+"\u6708",student:e.povertyStu,noStudent:e.nopovertyStu,allSchool:e.allschoolStu})}),e.setState({lineData:a,tableData:n,pagination:{pageSize:5,showQuickJumper:!0,total:n.length,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"}}})}else e.setState({lineData:[],tableData:[],pagination:{pageSize:5,showQuickJumper:!0,total:null,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"}}})})}},{key:"getDetail",value:function(){var e=this.props.filterValue,t=e.curYear,a=e.curCollege,n=e.curMajor,r=e.curGrade,o=e.curshengyuan;window.location.href=h.a+"/bigdata/povertyAnalyze/exportConsumeAvgContrast?schoolYear="+t+"&collegeCode="+a+"&majorCode="+n+"&grade="+r+"&bornSource="+o}},{key:"render",value:function(){var e=this;return s.a.createElement(p.a,{className:"main-card",title:s.a.createElement("div",{className:"common-title"},"\u4eba\u5747\u6708\u6d88\u8d39\u91d1\u989d\u5bf9\u6bd4",s.a.createElement("span",null,"\uff08\u5355\u4f4d\uff1a\u5143\uff09"),s.a.createElement("div",{className:"filter-text",style:{left:0,top:18}},this.props.filterName.curYearName?this.props.filterName.curYearName.substring(0,this.props.filterName.curYearName.length-1)+"\u5b66\u5e74-"+(Number(this.props.filterName.curYearName.substring(0,this.props.filterName.curYearName.length-1))+1)+"\u5b66\u5e74":"",s.a.createElement(l.j,{type:"vertical"}),this.props.filterName.curCollegeName,s.a.createElement(l.j,{type:"vertical"}),this.props.filterName.curMajorName,s.a.createElement(l.j,{type:"vertical"}),this.props.filterName.curGradeName,s.a.createElement(l.j,{type:"vertical"}),this.props.filterName.curshengyuanName)),tab:this.state.tab,changeTab:this.changeTab,detailCallback:this.getDetail.bind(this),downloadChart:{chartIns:this.state.chartIns,title:"\u4eba\u5747\u6708\u6d88\u8d39\u91d1\u989d\u5bf9\u6bd4"},tableToExcel:{table:"consumption-xls",filename:"\u4eba\u5747\u6708\u6d88\u8d39\u91d1\u989d\u5bf9\u6bd4excel\u4e0b\u8f7d"}},"1"===this.state.tab?s.a.createElement(c.a,{data:this.state.lineData,height:this.props.height-80,padding:[10,30,60,80],colors:["#FACC14","#1890FF","#2FC25B"],onFirstLoad:function(t){e.setState({chartIns:t})}}):s.a.createElement(s.a.Fragment,null,s.a.createElement(l.B,{dataSource:this.state.tableData,columns:g,bordered:!0,size:"small",style:{height:225},pagination:this.state.pagination}),s.a.createElement(l.B,{ref:"table",columns:g,dataSource:this.state.tableData,pagination:!1,style:{display:"none"}})))}},{key:"componentDidMount",value:function(){this.getData()}},{key:"componentWillReceiveProps",value:function(e){var t=this;JSON.stringify(e)!==JSON.stringify(this.props)&&setTimeout(function(){t.getData()},50)}}]),t}(s.a.Component);t.a=y}});
//# sourceMappingURL=9.1ee5c43b.chunk.js.map