webpackJsonp([3],{1142:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n.n(i),c=n(100),u=n(213),f=n(1147),p=n(132),l=n(393),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),b(t,[{key:"componentDidMount",value:function(){var e=window.location.href,t="";if(e.indexOf("?")>-1){var n={};t=e.indexOf("?")+1;var r=e.substr(t).split("&");if(r&&r.length>0&&r.map(function(e){var t=e.split("=");n[t[0]]=t[1]}),n.userName&&n.pwd&&n.urltype){var a=n.userName,o=n.pwd,i=n.urltype;console.log(a,o,i),window.localStorage.setItem("urltype",i),this.props.handleLogin({username:a,password:o})}else l.J.warning("URL\u914d\u7f6e\u9519\u8bef\uff0c\u8bf7\u8054\u7cfb\u5f00\u53d1\u4eba\u5458\u91cd\u65b0\u914d\u7f6e\uff01",5)}else l.J.warning("URL\u914d\u7f6e\u9519\u8bef\uff0c\u8bf7\u8054\u7cfb\u5f00\u53d1\u4eba\u5458\u91cd\u65b0\u914d\u7f6e\uff01",5)}},{key:"render",value:function(){return s.a.createElement("div",{style:{textAlign:"center",paddingTop:"30vh"}},s.a.createElement(l.z,{size:"large"}))}}]),t}(s.a.Component),w=function(e){return{handleLogin:function(t){Object(f.b)("/bigdata/user/login",t).then(function(t){if(t.success){Object(p.i)("userInfo",JSON.stringify(t.obj)),Object(p.i)("loginStatus",!0),Object(f.b)("/bigdata/system/menu/getLoginNameRole",{userName:t.obj.username},0,1).then(function(e){return Object(p.i)("isAdmin",JSON.stringify(e.obj))});var n=Object(u.a)(!0);e(n)}else l.J.error(t.obj)})}}};t.default=Object(c.connect)(null,w)(d)},1147:function(e,t,n){"use strict";n.d(t,"a",function(){return v}),n.d(t,"b",function(){return g});var r=n(398),a=n.n(r),o=n(399),i=n.n(o),s=n(104),c=n(393),u=n(215),f=n(213),p=n(132),l=["application/json","application/x-www-form-urlencoded;charset=UTF-8"],b={baseURL:"",timeout:2e4,headers:{post:{"Content-Type":l[0]}}},d=a.a.create(b),w=0,h=!0,j=l[0];d.interceptors.request.use(function(e){if(h&&w++,w>0){var t=Object(u.a)(!0);s.a.dispatch(t)}return e},function(e){return Promise.reject(e)}),d.interceptors.response.use(function(e){if(h&&w--,w<=0){w=0;var t=Object(u.a)(!1);s.a.dispatch(t)}else{var n=Object(u.a)(!0);s.a.dispatch(n)}var r=e.data;if(r.success)return{success:!0,obj:r.obj};if("403"===r.errorCode){Object(p.c)();var a=Object(f.a)(!1);return s.a.dispatch(a),{success:!1}}return{success:!1,obj:r.msg}},function(e){if(e&&e.response){switch(e.response.status){case 400:c.J.warn("\u8bf7\u6c42\u9519\u8bef");break;case 401:c.J.warn("\u672a\u6388\u6743\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55");break;case 403:c.J.warn("\u62d2\u7edd\u8bbf\u95ee");break;case 404:c.J.warn("\u8bf7\u6c42\u51fa\u9519");break;case 408:c.J.warn("\u8bf7\u6c42\u8d85\u65f6");break;case 500:c.J.warn("\u670d\u52a1\u5668\u9519\u8bef");break;case 501:c.J.warn("\u670d\u52a1\u672a\u5b9e\u73b0");break;case 502:c.J.warn("\u7f51\u7edc\u9519\u8bef");break;case 503:c.J.warn("\u670d\u52a1\u4e0d\u53ef\u7528");break;case 504:c.J.warn("\u7f51\u7edc\u8d85\u65f6(504)");break;case 505:c.J.warn("HTTP\u7248\u672c\u4e0d\u53d7\u652f\u6301");break;default:c.J.warn("\u8fde\u63a5\u51fa\u9519!")}if(--w<=0){var t=Object(u.a)(!1);s.a.dispatch(t)}return Promise.reject(e)}if(c.J.warn("\u8bf7\u6c42\u8d85\u65f6"),--w<=0){var n=Object(u.a)(!1);s.a.dispatch(n)}return Promise.reject(e)});var v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];return h=!n||1!==n,d.get(e,{params:t})},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;h=!n||1!==n;var a=l[r]||j,o=void 0;return a===l[1]?o=i.a.stringify(t):a===l[0]&&(o=JSON.stringify(t)),d.post(e,o,{headers:{"Content-Type":a}})}}});
//# sourceMappingURL=3.1030f805.chunk.js.map