{"version":3,"sources":["Layout/RightComponent/Content/XiTongSheZhi/CaiDanGuanLi/EditModal.js","Layout/RightComponent/Content/XiTongSheZhi/CaiDanGuanLi/index.js","Layout/RightComponent/Content/XiTongSheZhi/index.module.less"],"names":["FormItem","Item","formItemLayout","labelCol","span","wrapperCol","style","paddingLeft","EditModal","onOk","props","form","validateFields","err","values","getFieldDecorator","this","activeData","title","visible","onCancel","label","rules","required","message","initialValue","name","placeholder","Component","create","TreeNode","iconStyle","fontSize","color","marginLeft","iconActiveStyle","Object","assign","Index","state","menuLists","selectedKeys","expandedKeys","showEdit","onSelect","info","length","setState","node","detail","onDragEnter","onDrop","getMenuLists","res","success","obj","className","styles","mainCard","cardTitle","extra","type","onClick","bordered","margin","defaultExpandedKeys","draggable","loop","data","map","item","subMenus","key","id","React","module","exports"],"mappings":"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","file":"static/js/40.70765c87.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Modal, Form, Input } from 'antd';\r\n\r\nconst FormItem = Form.Item;\r\nconst formItemLayout = {\r\n    labelCol: { span: 4 },\r\n    wrapperCol: { span: 19, style:{paddingLeft:'10px'}},\r\n};\r\n\r\nclass EditModal extends Component {\r\n\r\n    onOk = () => {\r\n        this.props.form.validateFields(\r\n            (err,values) => {\r\n                if (!err) {\r\n                    this.props.onOk();\r\n                    // postAction('/bigdata/system/menu/update', {\r\n                    //   name: values.name\r\n                    // }, 0, 1).then(res=>{\r\n                    //     if(res.success){\r\n                    //         message.success('保存成功！');\r\n                    //         this.props.onOk();\r\n                    //     } else {\r\n                    //         message.error(res.obj);\r\n                    //     }\r\n                    // })\r\n                }\r\n            },\r\n        );\r\n    }\r\n\r\n\trender () {\r\n        const { getFieldDecorator } = this.props.form;\r\n        let { activeData } = this.props;\r\n\t\treturn (\r\n\t\t\t<Modal\r\n                title={'修改菜单'}\r\n                visible={true}\r\n                onOk={this.onOk}\r\n                onCancel={this.props.onCancel}\r\n            >\r\n                <FormItem {...formItemLayout} label=\"名称\">\r\n                    {getFieldDecorator('name', {\r\n                        rules: [{\r\n                            required: true,\r\n                            message: '请输入菜单名称'\r\n                        }],\r\n                        initialValue: activeData && activeData.name\r\n                    })(\r\n                        <Input placeholder=\"请输入菜单名称\" />\r\n                    )}\r\n                </FormItem>\r\n            </Modal>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Form.create()(EditModal);","import React from 'react';\r\nimport { Card, Tree, Icon } from 'antd';\r\nimport EditModal from './EditModal';\r\nimport styles from '../index.module.less';\r\n\r\nconst TreeNode = Tree.TreeNode;\r\nconst iconStyle = {\r\n\tfontSize: '20px',\r\n\tcolor: '#aaa',\r\n\tmarginLeft: '10px'\r\n}\r\nconst iconActiveStyle = Object.assign({},iconStyle,{color:'rgb(24, 144, 255)'});\r\n\r\nexport default class Index extends React.Component {\r\n    state = {\r\n        menuLists: [], //菜单列表\r\n\t\tselectedKeys: [], //选中节点\r\n\t\texpandedKeys: [], //展开节点\r\n\t\tshowEdit: false, //是否显示修改模态框\r\n\t\tactiveData: null, //选中节点信息\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.getMenuLists();\r\n    }\r\n\r\n    getMenuLists(){\r\n        let res = {\"success\":true,\"msg\":\"成功\",\"obj\":[{\"id\":10,\"parentId\":-1,\"name\":\"行为画像\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":10,\"tags\":null,\"subMenus\":[{\"id\":11,\"parentId\":10,\"name\":\"群体画像\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":11,\"tags\":null,\"subMenus\":[{\"id\":111,\"parentId\":11,\"name\":\"整体画像\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":111,\"tags\":null,\"subMenus\":[]},{\"id\":112,\"parentId\":11,\"name\":\"学生分布\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":112,\"tags\":null,\"subMenus\":[]},{\"id\":113,\"parentId\":11,\"name\":\"学业分析\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":113,\"tags\":null,\"subMenus\":[]},{\"id\":114,\"parentId\":11,\"name\":\"毕业分析\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":114,\"tags\":null,\"subMenus\":[]},{\"id\":115,\"parentId\":11,\"name\":\"消费分析\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":115,\"tags\":null,\"subMenus\":[]},{\"id\":116,\"parentId\":11,\"name\":\"上网分析\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":116,\"tags\":null,\"subMenus\":[]},{\"id\":117,\"parentId\":11,\"name\":\"上课分析\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":117,\"tags\":null,\"subMenus\":[]},{\"id\":118,\"parentId\":11,\"name\":\"图书分析\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":118,\"tags\":null,\"subMenus\":[]}]},{\"id\":12,\"parentId\":10,\"name\":\"个人画像\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":12,\"tags\":null,\"subMenus\":[{\"id\":121,\"parentId\":12,\"name\":\"学生列表\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":121,\"tags\":null,\"subMenus\":[]},{\"id\":122,\"parentId\":12,\"name\":\"整体画像\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":122,\"tags\":null,\"subMenus\":[]},{\"id\":123,\"parentId\":12,\"name\":\"学业成绩\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":123,\"tags\":null,\"subMenus\":[]},{\"id\":124,\"parentId\":12,\"name\":\"消费情况\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":124,\"tags\":null,\"subMenus\":[]},{\"id\":125,\"parentId\":12,\"name\":\"图书借阅\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":125,\"tags\":null,\"subMenus\":[]},{\"id\":126,\"parentId\":12,\"name\":\"上网情况\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":126,\"tags\":null,\"subMenus\":[]}]}]},{\"id\":20,\"parentId\":-1,\"name\":\"综合预警\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":20,\"tags\":null,\"subMenus\":[]},{\"id\":30,\"parentId\":-1,\"name\":\"精准资助\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":30,\"tags\":null,\"subMenus\":[{\"id\":31,\"parentId\":30,\"name\":\"家庭经济困难学生分析\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":31,\"tags\":null,\"subMenus\":[]},{\"id\":32,\"parentId\":30,\"name\":\"家庭经济困难学生查询\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":32,\"tags\":null,\"subMenus\":[]},{\"id\":33,\"parentId\":30,\"name\":\"异常家庭经济困难学生\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":33,\"tags\":null,\"subMenus\":[]},{\"id\":34,\"parentId\":30,\"name\":\"建议关爱学生\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":34,\"tags\":null,\"subMenus\":[]}]},{\"id\":40,\"parentId\":-1,\"name\":\"心理健康\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":40,\"tags\":null,\"subMenus\":[{\"id\":41,\"parentId\":40,\"name\":\"心理健康分析\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":41,\"tags\":null,\"subMenus\":[]},{\"id\":42,\"parentId\":40,\"name\":\"心理健康预警\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":42,\"tags\":null,\"subMenus\":[]}]},{\"id\":50,\"parentId\":-1,\"name\":\"系统设置\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":50,\"tags\":null,\"subMenus\":[{\"id\":51,\"parentId\":50,\"name\":\"预警设置\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":51,\"tags\":null,\"subMenus\":[]},{\"id\":52,\"parentId\":50,\"name\":\"预警白名单配置\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":52,\"tags\":null,\"subMenus\":[{\"id\":521,\"parentId\":52,\"name\":\"个人白名单\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":521,\"tags\":null,\"subMenus\":[]},{\"id\":522,\"parentId\":52,\"name\":\"节假日白名单\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":522,\"tags\":null,\"subMenus\":[]}]},{\"id\":53,\"parentId\":50,\"name\":\"资助达标金额配置\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":53,\"tags\":null,\"subMenus\":[]},{\"id\":54,\"parentId\":50,\"name\":\"预警处理达标配置\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":54,\"tags\":null,\"subMenus\":[]}]},{\"id\":60,\"parentId\":-1,\"name\":\"权限管理\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":60,\"tags\":null,\"subMenus\":[{\"id\":61,\"parentId\":60,\"name\":\"账号管理\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":61,\"tags\":null,\"subMenus\":[]},{\"id\":62,\"parentId\":60,\"name\":\"角色权限管理\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":62,\"tags\":null,\"subMenus\":[]},{\"id\":63,\"parentId\":60,\"name\":\"菜单管理\",\"url\":null,\"iconUrl\":null,\"iconSelectedUrl\":null,\"seq\":63,\"tags\":null,\"subMenus\":[]}]}],\"errorCode\":null};\r\n        if (res.success) {\r\n            this.setState({\r\n                menuLists: res.obj || []\r\n            })\r\n        }\r\n        // getAction('/bigdata/system/menu/list').then(res => {\r\n\t\t// \tif (res.success) {\r\n\t\t// \t\tthis.setState({\r\n\t\t// \t\t\tmenuLists: res.obj || []\r\n\t\t// \t\t})\r\n\t\t// \t}\r\n\t\t// })\r\n    }\r\n\r\n    //选中节点修改\r\n    onSelect = (selectedKeys, info) => {\r\n\t\tif(selectedKeys.length > 0){\r\n\t\t\tthis.setState({ selectedKeys, activeData: info.node.props.detail });\r\n\t\t} else {\r\n\t\t\tthis.setState({ selectedKeys, activeData: null });\r\n\t\t}\r\n\t}\r\n\r\n    //拖拽开始\r\n\tonDragEnter = (info) => {\r\n\t\tthis.setState({expandedKeys: info.expandedKeys});\r\n    }\r\n    \r\n\t//拖拽中\r\n\tonDrop = (info) => {\r\n\r\n\t\t// let dragNodeDetail = info.dragNode.props.detail; //拖动节点\r\n\t\t// let dropNodeDetail = info.node.props.detail; //放置节点\r\n\r\n\t\t// const dropKey = info.node.props.eventKey; //放置节点id\r\n\t\t// const dragKey = info.dragNode.props.eventKey; //拖动节点id\r\n\t\t// const dropPos = info.node.props.pos.split('-');\r\n\r\n\t\t//如果是父节点不能拖动到别人节点里面\r\n\t\t\r\n\t\t// if(dragNodeDetail && dragNodeDetail.parentId<=0 && dragNodeDetail.subMenus.length>0 && (dropPos.length>2 || !info.dropToGap)){\r\n\t\t// \tmessage.warn('不能移动有子节点的节点！');\r\n\t\t// \treturn;\r\n\t\t// }\r\n\t\t//限制不能拖动到子节点上\r\n\t\t// if(!info.dropToGap && dropPos.length>2){\r\n\t\t// \treturn;\r\n\t\t// }\r\n\t\t// const dropPosition = info.dropPosition - Number(dropPos[dropPos.length - 1]);\r\n\t\t//参数\r\n\t\t// let targetSeq,targetParentId,id=dragKey;\r\n\t\t// if(dropPos.length===2 && !info.dropToGap){\r\n\t\t// \ttargetParentId = dropKey;\r\n\t\t// \ttargetSeq = dropNodeDetail.seq+1;\r\n\t\t// } else if(dropPos.length>2){\r\n\t\t// \ttargetParentId = dropNodeDetail.parentId;\r\n\t\t// \ttargetSeq = dropNodeDetail.seq+dropPosition;\r\n\t\t// } else if(dropPos.length===2 && info.dropToGap){\r\n\t\t// \ttargetParentId = -1;\r\n\t\t// \ttargetSeq = dropNodeDetail.seq+dropPosition;\r\n\t\t// }\r\n\t\t// let params = { id, targetParentId, targetSeq };\r\n\t\t// postAction('/bigdata/system/menu/move',params,0,1).then(res=>{\r\n        //     if(res.success){\r\n        //         message.success('移动成功！');\r\n\t\t// \t\tthis.getMenuLists();\r\n        //     } else {\r\n        //         message.error(res.obj);\r\n        //     }\r\n        // })\r\n    }\r\n    \r\n    onOk = () => {\r\n        this.setState({showEdit:false,activeData:null, selectedKeys: []},()=>{\r\n            this.getMenuLists();\r\n        });\r\n    }\r\n\r\n    render(){\r\n        //递归菜单列表\r\n\t\tconst loop = data => data.map((item) => {\r\n\t\t\tif (item.subMenus && item.subMenus[0]) {\r\n\t\t\t\treturn <TreeNode key={item.id} title={item.name} detail={item}>{loop(item.subMenus)}</TreeNode>;\r\n\t\t\t}\r\n\t\t\treturn <TreeNode key={item.id} title={item.name} detail={item}/>;\r\n        });\r\n        \r\n        return (\r\n            <Card\r\n                className={styles.mainCard}\r\n                title={<div className={styles.cardTitle}>菜单管理</div>}\r\n                extra={\r\n                    <Icon type=\"form\" style={this.state.activeData ? iconActiveStyle : iconStyle} onClick={()=>{\r\n                        if(this.state.activeData){\r\n                            this.setState({showEdit: true})\r\n                        }\r\n                    }} />}\r\n                bordered={false}\r\n                style={{margin: 20}}\r\n            >\r\n                <Tree\r\n                    onSelect={this.onSelect}\r\n                    selectedKeys={this.state.selectedKeys}\r\n                    defaultExpandedKeys={this.state.expandedKeys}\r\n                    draggable\r\n                    onDragEnter={this.onDragEnter}\r\n                    onDrop={this.onDrop}\r\n                >\r\n                    {loop(this.state.menuLists)}\r\n                </Tree>\r\n                {\r\n\t\t\t\t\tthis.state.showEdit\r\n\t\t\t\t\t&&\r\n                    <EditModal\r\n                        visible={this.state.showEdit}\r\n                        activeData={this.state.activeData}\r\n                        onOk={this.onOk}\r\n                        onCancel={() => {this.setState({showEdit: false})}}\r\n                    />\r\n\t\t\t\t}\r\n            </Card>\r\n        )\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainCard\":\"src-Layout-RightComponent-Content-XiTongSheZhi-index-module__mainCard--2f2zL\",\"cardTitle\":\"src-Layout-RightComponent-Content-XiTongSheZhi-index-module__cardTitle--20waD\"};"],"sourceRoot":""}