webpackJsonp([31],{2247:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),c=n.n(i),u=n(133),l=n(393),s=n(2248),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e){function t(){var e,n,o,i;r(this,t);for(var c=arguments.length,u=Array(c),l=0;l<c;l++)u[l]=arguments[l];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.state={},o.handleAdd=function(){o.props.history.push("/mainframe/systemsetup/dabiaoDetail")},i=n,a(o,i)}return o(t,e),f(t,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(l.e,{title:c.a.createElement("div",{className:"common-title"},"\u8d44\u52a9\u8fbe\u6807\u91d1\u989d\u914d\u7f6e"),extra:c.a.createElement(l.d,{onClick:this.handleAdd,icon:"plus",type:"primary"},"\u6dfb\u52a0\u7b56\u7565")},c.a.createElement(s.a,null)))}}]),t}(i.Component);t.default=Object(u.withRouter)(p)},2248:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n(0),c=n.n(i),u=n(393),l=n(132),s=n(133),f=n(1147),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=(new Date).getFullYear(),h=function(e){function t(){var e,n,o,i;r(this,t);for(var c=arguments.length,s=Array(c),p=0;p<c;p++)s[p]=arguments[p];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.state={data:[],pagination:{current:1,pageSize:10,total:0,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"},showQuickJumper:!0}},o.getData=function(){var e={pageInfo:{pageNum:o.state.pagination.current,pageSize:o.state.pagination.pageSize}};Object(f.b)("/bigdata/subsidizeTarget/getSubsidizeTargetList",e).then(function(e){if(e.success){var t=e.obj.list;t.map(function(e,t){return e.sortIndex=t+1,e}),o.setState({data:t,pagination:{current:t.pageNum,pageSize:t.pageSize,total:t.total,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"},showQuickJumper:!0}})}})},o.handleEdit=function(e){Object(l.i)("dabiao",JSON.stringify(e)),o.props.history.push("/mainframe/systemsetup/dabiaoDetail")},o.handleDelete=function(e){var t={schoolYear:e.schoolYear};Object(f.b)("/bigdata/subsidizeTarget/deleteSubsidizeTarget",t).then(function(e){e.success?(u.J.success("\u5220\u9664\u6210\u529f"),o.getData()):u.J.error("\u5220\u9664\u5931\u8d25")})},i=n,a(o,i)}return o(t,e),p(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this,t=[{title:"\u5e8f\u53f7",dataIndex:"sortIndex",width:"7%"},{title:"\u540d\u79f0",dataIndex:"targetName",width:"15%",render:function(e,t){return c.a.createElement("span",{title:e},e)}},{title:"\u8ba4\u5b9a\u7b49\u7ea7\uff1a\u4e00\u7ea7",dataIndex:"onelevelTarget",render:function(e,t){return c.a.createElement("span",{title:e},e,"\u5143")}},{title:"\u8ba4\u5b9a\u7b49\u7ea7\uff1a\u4e8c\u7ea7",dataIndex:"twolevelTarget",render:function(e,t){return c.a.createElement("span",{title:e},e,"\u5143")}},{title:"\u8ba4\u5b9a\u7b49\u7ea7\uff1a\u4e09\u7ea7",dataIndex:"threelevelTarget",render:function(e,t){return c.a.createElement("span",{title:e},e,"\u5143")}},{title:"\u6709\u6548\u65f6\u95f4",dataIndex:"effectiveDate",render:function(e,t){return c.a.createElement("span",{title:e},e)}},{title:"\u66f4\u65b0\u65f6\u95f4",dataIndex:"updateTime",render:function(e,t){return c.a.createElement("span",{title:e},e)}},{title:"\u72b6\u6001",dataIndex:"status",align:"center",width:"8%",render:function(e,t){return"0"===e?"\u8fc7\u671f":"\u6709\u6548"}},{title:"\u64cd\u4f5c",align:"center",render:function(t,n){if("0"!==n.status)return Number(n.schoolYear)>d?c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{style:{color:"#1890ff",cursor:"pointer",marginRight:5},onClick:function(){e.handleEdit(n)}},"\u7f16\u8f91"),c.a.createElement(u.t,{onConfirm:function(){e.handleDelete(n)},placement:"topRight",title:"\u786e\u5b9a\u5220\u9664\u8be5\u6761\u914d\u7f6e\u9879\u5417\uff1f",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},c.a.createElement("span",{style:{color:"rgb(141, 153, 176)",cursor:"pointer",marginLeft:5}},"\u5220\u9664"))):c.a.createElement("span",{style:{color:"#1890ff",cursor:"pointer"},onClick:function(){e.handleEdit(n)}},"\u7f16\u8f91")}}];return c.a.createElement(u.B,{pagination:this.state.pagination,bordered:!0,columns:t,dataSource:this.state.data})}}]),t}(i.Component);t.a=Object(s.withRouter)(h)}});
//# sourceMappingURL=31.85c953a7.chunk.js.map